/*
 TeeChart(tm) for JavaScript(tm)
 @fileOverview TeeChart for JavaScript(tm)
 v2.4 Feb 2018
 Copyright(c) 2012-2018 by Steema Software SL. All Rights Reserved.
 http://www.steema.com

 Licensed with commercial and non-commercial attributes,
 specifically: http://www.steema.com/licensing/html5

 JavaScript is a trademark of Oracle Corporation.
*/
var Tee=Tee||{};
(function(){function p(a,d){return new Tee.Point(a,d)}function D(a,d,b,c){function e(){if(b.x==d.x&&b.y==d.y){var f=a.x-d.x;var e=a.y-d.y}else{f=b.x-d.x;e=b.y-d.y;var c=((a.x-d.x)*f+(a.y-d.y)*e)/(f*f+e*e);0>c?(f=a.x-d.x,e=a.y-d.y):1<c?(f=a.x-b.x,e=a.y-b.y):(f=a.x-(d.x+c*f),e=a.y-(d.y+c*e))}return Math.sqrt(f*f+e*e)}return a.x==d.x&&a.y==d.y||a.x==b.x&&a.y==b.y?!0:Math.abs(e())<=c+1}function v(a,d,b,c){return new Tee.Rectangle(a,d,b,c)}function Q(){this.left=this.right=this.top=this.bottom=2;this.apply=
function(a){var d=a.width,b=a.height;a.x+=d*this.left*.01;a.width-=d*Math.min(100,this.left+this.right)*.01;a.y+=b*this.top*.01;a.height-=b*Math.min(100,this.top+this.bottom)*.01}}function R(a,d,b){this.format=b;this.bounds=d;var c=this;d=b.shadow;this.old=new N;this.old.set(d);d.visible=!0;d.color="rgba(0,255,0,0.1)";d.blur=10;d.width=0;d.height=0;this.enabled=!0;b=new Tee.Animation(b.chart,function(b){c.enabled&&(1>b?c.format.shadow.color="rgba(0,255,0,"+b.toString()+")":c.autoHide&&c.restore())});
b.duration=a;b.animate();this.restore=function(){this.format.shadow.set(this.old);this.enabled=!1}}function E(a){this.chart=a;this.visible=!1;this.colors=["white","silver"];this.direction="topbottom";this.stops=null;this.offset={x:0,y:0};this.create=function(a,b){return this.rect(a.x,a.y,a.width,a.height,b)};this.rect=function(a,b,c,e,f){var d=this.chart.ctx,g=d.createLinearGradient;"topbottom"==this.direction?c=g.call(d,a,b,a,b+e):"bottomtop"==this.direction?c=g.call(d,a,b+e,a,b):"leftright"==this.direction?
c=g.call(d,a,b,a+c,b):"rightleft"==this.direction?c=g.call(d,a+c,b,a,b):"radial"==this.direction?(a=a+.5*c+this.offset.x,b=b+.5*e+this.offset.y,c=d.createRadialGradient(a,b,0,a,b,Math.max(c,e))):c="diagonalup"==this.direction?g.call(d,a,b+e,a+c,b):g.call(d,a,b,a+c,b+e);f&&this.setEndColor(f);e=this.colors;d=e.length;a=(b=this.stops)?b.length:0;if(1<d)for(f=0;f<d;f++)c.addColorStop(a<=f?f/(d-1):b[f],e[f]);else c.addColorStop(0,0<d?e[0]:"white");return c}}function N(a){this.chart=a;this.visible=!1;
this.blur=4;this.color="rgba(80,80,80,0.75)";this.height=this.width=4;this.prepare=function(a){this.visible?(a.shadowBlur=this.blur,a.shadowColor=this.color,a.shadowOffsetX=this.width,a.shadowOffsetY=this.chart.isAndroid?-this.height:this.height):a.shadowColor="transparent"}}function T(a){this.url="";this.repeat="no-repeat";this.backFill=!1;this.chart=a;this.visible=!0;this.tryDraw=function(d,b,c,e){this.image||(this.image=new Image,this.image.onload=function(){a.draw()});if(""===this.image.src)a=
this.chart,this.image.src=this.url;else if(a.ctx.drawImage)if("repeat"==this.repeat){var f=a.ctx.createPattern(this.image,"repeat");a.ctx.fillStyle=f;a.ctx.fillRect(d,b,c,e)}else a.ctx.drawImage(this.image,d,b,c,e)}}function I(a){this.chart=a;this.fill="black";this.size=1;this.join="round";this.cap="square";this._g=this.dash=null;z?z(this,"gradient",{get:function(){this._g||(this._g=new E(this.chart));return this._g}}):this._g=this.gradient=new E(a);this.prepare=function(a,b){b=b||this.chart.ctx;
var c=this._g;b.strokeStyle=c&&c.visible?c.create(this.chart.bounds):a?a:this.fill;b.lineWidth=this.size;b.lineJoin=this.join;b.lineCap=this.cap;b.shadowColor="transparent";b.setLineDash?b.setLineDash(this.dash||[]):b.mozCurrentTransform?b.mozDash=this.dash:this.chart.isChrome&&(b.webkitLineDash=this.dash)};this.setChart=function(a){this.chart=a;this._g&&(this._g.chart=a)}}function J(a){this.chart=a;this.style="11px Tahoma";this._g=null;z?z(this,"gradient",{get:function(){this._g||(this._g=new E(this.chart));
return this._g}}):this._g=this.gradient=new E(a);this.fill="black";this._sh=null;z?z(this,"shadow",{get:function(){this._sh||(this._sh=new N(this.chart));return this._sh}}):this._sh=this.shadow=new N(a);this._s=null;z?z(this,"stroke",{get:function(){this._s||(this._s=new I(this.chart),this._s.fill="");return this._s}}):(this._s=this.stroke=new I(a),this._s.fill="");this.textAlign="center";this.baseLine="alphabetic"}function W(a){this.chart=a;this.items=[];this.draw=function(){for(var a=0,b;b=this.items[a++];)b.active&&
b.draw()};this.mousemove=function(a){for(var b=0,c;c=this.items[b++];)c.active&&c.mousemove(a)};this.mousedown=function(a){for(var b=0,c,e=!1;c=this.items[b++];)c.active&&c.mousedown(a)&&(e=!0);return e};this.mouseout=function(){for(var a=0,b;b=this.items[a++];)b.active&&b.mouseout()};this.clicked=function(a){for(var b=this.items.length,c,e=!1;c=this.items[--b];)c.active&&c.clicked(a)&&(e=!0,c.onclick&&(e=c.onclick(c,a.x,a.y)));return e};this.add=function(a){this.items.push(a);return a}}function X(a){function d(b){var a=
b.chart.chartRect,e=b.direction,d="both"===e;c.set(a.x,a.y,a.width,a.height);if(b.old){if(d||"horizontal"===e)0>b.old.x?(c.x=b.chart.oldPos.x+b.old.x,c.width=-b.old.x):(c.x=b.chart.oldPos.x,c.width=b.old.x);if(d||"vertical"===e)0>b.old.y?(c.y=b.chart.oldPos.y+b.old.y,c.height=-b.old.y):(c.y=b.chart.oldPos.y,c.height=b.old.y)}return c}this.chart=a;this.active=!1;this.enabled=!0;this.done=!1;this.direction="both";this.keepAspect=!1;this.mouseButton=0;this.wheel={enabled:!1,factor:1};var b=this.format=
new Tee.Format(a);b.fill="rgba(255,255,255,0.5)";b.stroke.fill="darkgray";b.stroke.size=2;var c=new v;this.change=function(b){this.old||(this.old=new p);var a=this.chart.oldPos;this.old.x=b.x-a.x;this.keepAspect?(b=this.chart.chartRect,this.old.y=b.height/b.width*this.old.x):this.old.y=b.y-a.y};this.draw=function(){b.rectangle(d(this))};this.apply=function(){if(0>this.old.x||0>this.old.y){if(this.reset(),this.onreset)this.onreset()}else if(d(this),3<c.width&&3<c.height){var b=this.direction,a="both"===
b;this.chart.axes.each(function(){this.horizontal?(a||"horizontal"===b)&&this.calcMinMax(c.x,c.x+c.width):(a||"vertical"===b)&&this.calcMinMax(c.y+c.height,c.y)});return!0}return!1};this.reset=function(){this.chart.axes.each(function(){this.automatic=!0})}}function Y(a){this.chart=a;this.active=!1;this.enabled=!0;this.done=!1;this.mouseButton=2;this.direction="both";this.position=new p(0,0)}function U(a,d){Tee.Annotation.call(this,a);this.transparent=!0;this._expand=!1;z?z(this,"expand",{get:function(){return this._expand},
set:function(b){this._expand=b;this._expand||(b=this.format,b.round.x=8,b.round.y=8,b.round.corners=null,b.stroke.fill="black")}}):this._expand=this.expand=!1;var b=this.format.font,c=b.shadow,e=this.position;c.visible=!0;c.width=2;c.height=2;c.blur=8;b.style="18px Tahoma";b.fill=d;this.padding=4;this.calcRect=function(b){this.resize();var c=this.bounds,f=c.height+(this.transparent?1:2)*this.padding,d=a.chartRect;b?(e.y=d.y,d.automatic&&d.setTop(d.y+f)):(e.y=d.y+d.height-c.height-this.padding,d.automatic&&
(d.height-=f));0>d.height&&(d.height=0);e.x=.5*(a.canvas.width-c.width)};this.tryDraw=function(b){if(this.shouldDraw()){this.calcRect(b);var c=this.bounds,f=this.chart.ctx,d=f.beginParent;this.visual=d?f.beginParent():null;if(this._expand){var h=a.panel.format;e.x=""!==h.stroke.fill?h.stroke.size:0;e.y=b?e.x:a.canvas.height-(h.shadow.visible?h.shadow.height:0)-e.x-c.height;c.width=a.canvas.width-(h.shadow.visible?h.shadow.width:0)-2*e.x;var l=this.format;l.round.x=h.round.x;l.round.y=h.round.y;l.round.corners=
[b,b,!b,!b];l.stroke.fill="";this.transparent=!1}c.x=e.x;c.y=e.y;this.doDraw();d&&f.endParent()}}}function Z(a){var d=this.format=new Tee.Format(a);d.round.x=12;d.round.y=12;d.stroke.size=3;d.gradient.visible=!0;d.gradient.direction="bottomtop";d.shadow.visible=!0;d.stroke.fill="#606060";this.transparent=!!a.__webgl;this.margins=new Q;this.clear=function(){var b=a.bounds;a.ctx.clearRect(b.x,b.y,b.width,b.height)};this.draw=function(){if(this.transparent||a.__webgl)this.clear();else{var b=a.chartRect,
c=d.shadow;c.visible&&(b.width-=.5*Math.abs(c.width)+2,b.height-=.5*Math.abs(c.height)+2,0>c.width&&(b.x-=c.width),0>c.height&&(b.y-=c.height));var e=0;""!==d.stroke.fill&&(e=d.stroke.size,1<e&&(e*=.5,b.x+=e,b.y+=e,b.width-=2*e,b.height-=2*e));(c.visible||0<d.round.x||0<d.round.y)&&this.clear();d.rectangle(b);0<e&&(b.x+=e,b.y+=e,b.width-=2*e,b.height-=2*e)}}}function K(a){var d=this.format=new Tee.Format(a);d.fill="#E6E6E6";d.stroke.fill="black";d.z=0;d.depth=0;this.visible=!0;this.bounds=new v;this.size=
0;this.draw=function(){d.cube(this.bounds);d.draw(a.ctx,null,this.bounds)}}function w(a,d,b){function c(b){this.chart=b;this.stroke=new I(b);this.stroke.cap="butt";this.visible=!0;this.length=4}function e(b){Tee.Annotation.call(this,b);this.padding=4;this.transparent=!0;this.rotation=0;this.format.font.textAlign="center";this.drawIt=function(a,c,f,e){this.format.font.textAlign=a;0===e?(this.position.x=c,this.position.y=f,this.forceDraw()):(a=b.ctx,a.save(),a.translate(c,f),a.rotate(-e*Math.PI/180),
this.position.x=0,this.position.y=0,this.forceDraw(),a.restore())}}function f(b,a){var h=0,c=a.split(" "),f;for(f=0;f<c.length;f++){var e=b.textWidth(c[f]);e>h&&(h=e)}return h}function k(b){return isFinite(b)?10<=b?10*k(.1*b):1>b?.1*k(10*b):2>b?2:5>b?5:10:1}this.chart=a;this.visible=!0;this.inverted=!1;this.horizontal=d;this.otherSide=b;this.bounds=new v;this.position=0;this.format=new Tee.Format(a);this.format.stroke.size=2;this.format.depth=.2;this.custom=!1;this.z=b?1:0;this.maxLabelDepth=0;this.labels=
new function(b,a){this.chart=b;this.format=new Tee.Format(b);this.decimals=2;this.fixedDecimals=!1;this.padding=4;this.separation=10;this.visible=!0;this.rotation=0;this.alternate=!1;this.maxWidth=0;this.wordWrap="no";this.roundFirst=!0;this.labelStyle="auto";this.dateFormat="shortDate";this.checkStyle=function(){var h=this.labelStyle,c=a.firstSeries;this._textlabels=this._text=null;if("auto"==h){if(0<c.data.labels.length&&c.associatedToAxis(a)&&a.horizontal==c.notmandatory.horizontal&&(this._text=
c,1<this.chart.series.items.length&&this.chart.series.items[0]instanceof Tee.Bar&&"sideAll"==this.chart.series.items[0].stacked)){h=b.series.items;var f,e;this._textlabels=this._text.data.labels;for(c=1;e=h[c++];)if(e.visible&&e.associatedToAxis(a))for(f=0;f<e.data.values.length;f++)this._textlabels.push(e.data.labels[f])}}else if("mark"==h||"text"==h)this._text=c};this.formatValueString=function(b){if(this.valueFormat){var a=Number("1.2").toLocaleString().substr(1,1);b=(1*b).toLocaleString();var h=
String(b).split(a);b=h[0];var c="";if(0<this.decimals)for(var f=0;f<this.decimals;f++)c+="0";h=1<h.length?h[1]:"";h=(h+c).substr(0,this.decimals);return 0<h.length?b+a+h:b}return b.toFixed(this.decimals)};this.getLabel=function(h){var c=h|0;if(this._text&&c==h){var f=this._text.data;f.x&&(c=f.x.indexOf(c));var e=b.series.items,d,m;f=0<e.length&&e[0]instanceof Tee.Bar&&"sideAll"==e[0].stacked?f.labels[h]:f.labels[c];if(!f){for(d=0;(m=e[d++])&&!(m!=this._text&&m.visible&&m.associatedToAxis(a)&&(f=m.data.labels[c])););
void 0===f&&(f="")}}else f=a.dateTime?Date.prototype.format?(new Date(h)).format(this.dateFormat):(new Date(h)).toDateString():this.formatValueString(h);this.ongetlabel&&(f=this.ongetlabel(h,f),this.format.font.prepare());return""+f};this.width=function(b){var a=this.fixedDecimals;this.fixedDecimals=!0;b=this.format.textWidth(this.getLabel(b));this.fixedDecimals=a;return b}}(a,this);var g=this.labels.format.font;this.scroll=function(b){this.automatic=!1;this.inverted&&(b=-b);this.minimum+=b;this.maximum+=
b};d?(g.textAlign="center",g.baseLine=b?"bottom":"top"):(g.textAlign=b?"left":"right",g.baseLine="middle");this.grid=new function(b){this.chart=b;b=this.format=new Tee.Format(b);b.stroke.fill="silver";b.stroke.cap="butt";b.fill="";this.visible=!0;this.lineDash=!1}(a);this.ticks=new c(a);this.innerTicks=new c(a);this.innerTicks.visible=!1;g=this.minorTicks=new c(a);g.visible=!1;g.length=2;g.count=3;e.prototype=new Tee.Annotation;this.title=new e(a);d||(this.title.rotation=b?270:90);this.automatic=
!0;this.increment=this.maximum=this.minimum=0;this.log=!1;this.start=this.endPos=this.startPos=0;this.end=100;this.increm=this.scale=this.axisSize=0;this.minmaxLabelWidth=function(b){var a=this.labels,c=a._text,e=0,d=this.labels;if(null!==c){var m="auto"==a.wordWrap||"yes"==a.wordWrap;d.format.font.prepare();for(var g=0,k=c.data.labels.length;g<k;g++){var y=c.data.labels[g];this.ongetlabel&&(y=this.ongetlabel(g,y));y&&(e=Math.max(e,m?f(a.format,y):a.format.textWidth(y)))}}else e=this.roundMin(),c=
this.maximum,e=Math.max(a.width(e),a.width(.5*(e+c))),e=Math.max(e,a.width(1E-7)),e=Math.max(e,a.width(c));if(0==a.rotation){if(this.horizontal&&b||!this.horizontal&&!b)e=d.format.textHeight("Wj")}else e=this.horizontal?b?Math.abs(Math.sin(Math.PI/180*a.rotation)*e):Math.abs(Math.cos(Math.PI/180*a.rotation)*e):b?Math.abs(Math.cos(Math.PI/180*a.rotation)*e):Math.abs(Math.sin(Math.PI/180*a.rotation)*e);e<d.format.textHeight("Wj")&&(e=d.format.textHeight("Wj"));return e};this.checkRange=function(){this.maximum-
this.minimum<this.minAxisRange&&(this.maximum=this.minimum+this.minAxisRange)};this.checkMinMax=function(){var b=this.chart.series,a=this.horizontal;this.automatic&&(this.minimum=a?b.minXValue(this):b.minYValue(this),this.maximum=a?b.maxXValue(this):b.maxYValue(this),this.checkRange())};this.calcAxisScale=function(){var b=this.maximum-this.minimum;0===b?b=1:this.log&&(b=Math.log(b));this.scale=this.axisSize/b};this.calcScale=function(){var b=this.labels;b.format.font.prepare();var a=this.minmaxLabelWidth(!1);
b.alternate&&(a*=.5);a*=1+.02*b.separation;if(0===this.increment)if(this.maximum==this.minimum)b=1;else{b=this.axisSize/a;b:{a=b;var c,e,f;for(c=0;e=this.chart.series.items[c++];)if(e.visible&&e.sequential&&((f=e.yMandatory)&&this.horizontal||!f&&!this.horizontal)&&e.associatedToAxis(this)&&e.count()<=a){a=!0;break b}a=!1}b=Math.abs(this.maximum-this.minimum)/(b+1);b=a?Math.max(1,b):k(b)}else b=this.increment;this.increm=b;0>=this.increm?this.increm=.1:0<this.increm&&1E-8>=this.increm&&(this.increm=
1E-8)};this.hasAnySeries=function(){var b=this.chart.series.items,a,c;for(a=0;c=b[a++];)if(c.visible&&c.associatedToAxis(this)&&(c.__alwaysDraw||0<c.count()))return b=this.horizontal,c.yMandatory&&(b=!b),this.dateTime=(b=b?c.data.values:c.data.x)&&0<b.length&&b[0]instanceof Date,c;return null};this.drawAxis=function(){var b=this.format,a=this.chart.ctx,c=this.axisPos,e=this.startPos,f=this.endPos,g=20*b.depth;this.chart.aspect.view3d&&0<g?(c=d?{x:e,y:c-.5*g,width:f-e,height:g}:{x:c-.5*g,y:e,width:g,
height:f-e},e=this.z,b.z=e-.5*b.depth,b.cylinder(c,1,!d),b.draw(a,null,c),b.z=e):(a.z=this.z,a.beginPath(),d?(a.moveTo(e,c),a.lineTo(f,c)):(a.moveTo(c,e),a.lineTo(c,f)),b.stroke.prepare(),a.stroke())};this.drawGrids=function(){var a=this.chart.ctx,c=this.chart.chartRect,e=this.grid.format,f=this.roundMin();if(this.grid.centered){var g=.5*this.increm;f=f-g>=this.minimum?f-g:f+g}g=this.chart.aspect;var k=g.view3d,r=k&&g.orthogonal,x=k?1:0;a.beginPath();if(d){var y=this.bounds.y-x;var t=b?c.getBottom()-
1:c.y+1}else{var A=this.bounds.x+x;var B=b?c.x+1:c.getRight()-1}x=-1;if(""!==e.fill){c=f;var p=e.stroke.fill;for(e.stroke.fill="";c<=this.maximum;){var v=this.calc(c);0===x%2&&(d?e.rectangle(F,t,v-F,y-t):e.rectangle(A,F,B-A,v-F));var F=v;c+=this.increm;x++}e.stroke.fill=p;a.fillStyle=""}c=f;r&&(d?(y-=g._orthoy,t-=g._orthoy):(A+=g._orthox,B+=g._orthox));f=e.stroke.dash&&!a.setLineDash&&!a.mozCurrentTransform;for(a.z=k?this.chart.walls.back.format.z-.01:0;c<=this.maximum;){x=this.calc(c);d?A=B=x:y=
t=x;r&&(d?(A+=g._orthox,B+=g._orthox):(y-=g._orthoy,t-=g._orthoy));k&&!this.otherSide&&a.lineZ&&a.lineZ(A,y,0,a.z);if(f){F=a;x=A;var w=y,C=B;p=t;v=[10,5];F.save();C-=x;var z=p-w;p=Math.sqrt(C*C+z*z);C=Math.atan2(z,C);F.translate(x,w);F.moveTo(0,0);F.rotate(C);w=v.length;C=0;z=!0;for(x=0;p>x;)x+=v[C++%w],x>p&&(x=p),z?F.lineTo(x,0):F.moveTo(x,0),z=!z;F.restore()}else a.moveTo(A,y),a.lineTo(B,t);c+=this.increm}e.stroke.prepare();e.shadow.prepare(a);a.stroke()};this.roundMin=function(){if(0!==this.increm&&
this.labels.roundFirst){var b=this.minimum/this.increm;b-=b%1;return this.increm*(0>=this.minimum?b:1+b)}return this.minimum};this.drawTicks=function(a,c,e){var f=this.roundMin(),h=1+a.length,g=1;if(d&&b||!d&&!b)h=-h,g=-1;h=h*c+this.axisPos;g=g*c+this.axisPos;var k=1,l=0;if(0===e)var m=this.increm;else k+=e,m=this.increm/k;var t=this.chart.ctx;for(t.beginPath();f<=this.maximum;){if(0===e||0!==l++%k)c=this.calc(f),d?(t.moveTo(c,g),t.lineTo(c,h)):(t.moveTo(g,c),t.lineTo(h,c));f+=m}a.stroke.prepare();
a.z=this.z;t.z=a.z;t.stroke()};this.drawTitle=function(){var b=this.labels,a=this.title.bounds,c=this.title.rotation,e="center";if(""!==this.title.text){if(d){var f=this.title.padding;this.ticks.visible&&(f+=this.ticks.length);if(b.visible){b.format.font.prepare();var g=this.maxLabelDepth;b.alternate&&(g*=2);f+=g}g=this.startPos+.5*this.axisSize;this.otherSide&&(f=-f-a.height);f=this.axisPos+f;0===c?g-=.5*a.width:(g+=a.height*(this.otherSide?-.5:.5),this.otherSide||(f+=1.5*a.height),e=this.otherSide?
"near":270===c?"near":"far")}else g=this.title.padding,this.ticks.visible&&(g+=this.ticks.length),b.visible&&(f=b.maxWidth,b.alternate&&(f*=2),g+=f),f=this.startPos+.5*this.axisSize,0===c?(g=this.axisPos+(this.otherSide?g:-g),f-=.5*a.height,e=this.otherSide?"near":"far"):(g+=a.height,g=this.axisPos+(this.otherSide?g:-g),f+=a.width*(this.otherSide?-.5:.5));this.title.drawIt(e,g,f,c)}};this.rotatedWidth=function(b,a){return Math.abs(Math.sin(Math.PI/180*b.rotation)*a)};this.drawLabel=function(b,a){var c=
this.labels,e=c.getLabel(b);a.width=c.format.textWidth(e);a.width>c.maxWidth&&(c.maxWidth=a.width);if(0==c.rotation)this.horizontal?a.x-=.5*a.width:a.y+=.5*a.height;else{var f=this.chart.ctx;f.save();f.translate(a.x,a.y);f.rotate(-Math.PI*c.rotation/180);f.textAlign="right";this.horizontal?(a.x=.5*-this.rotatedWidth(c,a.width),a.y=-(.5*this.rotatedWidth(c,a.height))+3):(a.x=-2,a.y=-8)}"right"==c.format.font.textAlign&&(a.x-=a.width);c.format.z=this.z*this.chart.walls.back.format.z;c.format.drawText(a,
e);0!==c.rotation&&this.chart.ctx.restore()};this.drawLabels=function(){var b=this.roundMin(),a=new v,c=this.axisPos,e=this.labels;e.maxWidth=0;e.format.font.prepare();var f=this.ticks.visible?this.ticks.length:0;f+=e.padding;this.horizontal?this.otherSide?c-=f:c+=f:this.otherSide?c+=f:c-=f;f=c;a.height=e.format.textHeight("Wj");for(var d=(e=e.alternate)?this.horizontal?-this.minmaxLabelWidth(!0):this.minmaxLabelWidth(!0):0,g;b<=this.maximum;)g=this.calc(b),this.horizontal?(a.x=g,a.y=c):(a.x=c,a.y=
g-.5*a.height),e&&(c=c==f?this.otherSide?f+d:f-d:f),this.drawLabel(b,a),b+=this.increm};this.calc=function(b){b!==b?b=0:this.log?(b-=this.minimum,b=0>=b?0:Math.log(b)*this.scale):b=(b-this.minimum)*this.scale;return this.horizontal?this.inverted?this.endPos-b:this.startPos+b:this.inverted?this.startPos+b:this.endPos-b};this.fromPos=function(b){var a=this.horizontal;this.inverted&&(a=!a);return this.minimum+(a?b-this.startPos:this.endPos-b)/this.scale};this.fromSize=function(b){return b/this.scale};
this.fromSizeCalcIndex=function(b){var a=-1;if(1==this.dateTime){var c=0,f=0;b=(this.maximum-this.minimum)/this.axisSize*b+this.minimum;for(1<this.chart.series.items[0].data.x.length&&(f=this.chart.series.items[0].data.x[1].getTime()-this.chart.series.items[0].data.x[0].getTime());-1==a&&c<this.chart.series.items[0].data.x.length;)this.chart.series.items[0].data.x[c].getTime()+f/2>b&&b+f/2>this.chart.series.items[0].data.x[c].getTime()?a=c:c++}else if(a=b/this.scale+this.minimum,this.chart.series.items[0].data.values.length<
a||-.5>a)a=-1;return a};this.calcSize=function(b){return Math.abs(this.calc(b)-this.calc(0))};this.calcMinMax=function(b,a){this.automatic=!1;var c=this.fromPos(b),f=this.fromPos(a);if(c>f){var e=c;c=f;f=e}this.minimum=c;this.maximum=f;this.checkRange()};this.minAxisRange=1E-10;this.setMinMax=function(b,a){this.automatic=!1;this.minimum=b;this.maximum=a;this.checkRange()}}function S(a){function d(b){var c=a.series;return b.showHidden?c.items.length:c.visibleCount()}this.chart=a;this.transparent=!1;
var b=this.format=new Tee.Format(a);b.fill="white";b.round.x=8;b.round.y=8;b.font.baseLine="top";b.shadow.visible=!0;b.z=0;b.depth=.05;this.title=new Tee.Annotation(a);this.title.transparent=!0;this.bounds=new v;this.position="right";this.visible=!0;this.inverted=!1;this.margin=this.padding=5;this.align=0;this.fontColor=!1;var c=this.dividing=new I(a);c.fill="";c.cap="butt";this.over=-1;this.symbol=new function(b){this.chart=b;var a=this.format=new Tee.Format(b),c=a.shadow;c.visible=!0;c.color="silver";
c.width=2;c.height=2;a.depth=.01;this.padding=this.height=this.width=8;this.style="rectangle";this.visible=!0;this.draw=function(c,f,e,d){var h=b.ctx;a:{if(c.hover.enabled){var g=b.legend.showValues();if(g&&c.over==f||!g&&0<=c.over){var n=c.hover;break a}}n=null}g=a.fill;var k=a.stroke;a.fill=c.legendColor(f);h.z=-.01;switch(this.style){case "rectangle":n&&(a.stroke=n.stroke);this.chart.aspect.view3d?(c={x:e,y:d-.5*this.height-1,width:this.width,height:this.height},g=a.z,f=h.z,a.z=h.z-a.depth,a.cube(c),
a.draw(h,null,c),a.z=g,h.z=f):a.rectangle(e,d-.5*this.height-1,this.width,this.height);break;case "triangle":n&&(a.stroke=n.stroke);a.polygon([new p(e+.5*this.width,d-.5*this.height),new p(e+this.width,d+.5*this.height),new p(e,d+.5*this.height)]);break;case "ellipse":n&&(a.stroke=n.stroke);a.ellipse(e+.5*this.width,d,this.width,this.height);break;default:h.beginPath(),h.moveTo(e,d),h.lineTo(e+this.width,d),n?n.stroke.prepare():a.stroke.prepare(a.fill),h.stroke()}a.fill=g;a.stroke=k}}(a);this.itemHeight=
10;this.innerOff=0;this.textStyle=this.legendStyle="auto";this.hover=new Tee.Format(a);this.hover.enabled=!0;this.hover.font.fill="red";this.totalWidth=function(){var b=h+8,a=this.symbol;a.visible&&(b+=a.width+a.padding);return b};var e=0;this._space=function(){return this.bounds.y+e+this.margin*a.bounds.height*.01};this.availRows=function(){var b=this._space()+.5*this.itemHeight;b||(b=0);return(a.bounds.getBottom()-b)/this.itemHeight|0};this.itemsCount=function(){var b=a.series,c=d(this),f=a.bounds;
if(0===c)return 0;var e=this.legendStyle;if("values"===e&&0<c)c=b.firstVisible().legendCount();else if("auto"===e&&1<c||"series"===e)for(e=0;e<b.items.length;e++)b.items[e].legend.visible||c--;else 1==c&&(c=b.firstVisible().legendCount());this.isVertical()?(.5+c)*this.itemHeight>f.height-this._space()&&(c=this.availRows()):(this.rows=1,b=this.totalWidth(),e=this.calcPadding(f),e=f.width-2*e,c*b>e?(this.perRow=e/b|0,c>this.perRow&&(this.rows=1+(c/this.perRow|0),this.rows*this.itemHeight>f.height-this.bounds.y&&
(this.rows=this.availRows(),c=this.rows*this.perRow))):this.perRow=c);return c};this.showValues=function(){var b=this.legendStyle;return"values"==b||"auto"==b&&1==d(this)};this.itemText=function(b,a){var c=b.legendText(a,this.textStyle,!1,!0);return this.ongettext?this.ongettext(this,b,a,c):c};this.calcItemPos=function(b,a){var c=this.itemHeight,f=this.bounds;a.x=f.x;a.y=f.y+this.innerOff;this.isVertical()?(a.x+=f.width-6-this.innerOff,a.y+=.4*c+b*c+e):(a.x+=this.innerOff+(1+b%this.perRow)*this.totalWidth(),
a.y+=c*((b/this.perRow|0)+.25))};this.calcItemRect=function(b,a){var c=this.itemHeight,f=this.bounds;a.height=c;a.x=f.x;a.y=f.y;this.isVertical()?(a.width=f.width,a.y+=.4*c+b*c+e):(a.width=this.totalWidth(),a.x+=this.innerOff+b%this.perRow*a.width,a.y+=c*((b/this.perRow|0)+.25))};var f=new v;this.mousedown=function(b){if(this.onclick&&-1!==this.over){if(this.showValues())this.onclick(a.series.firstVisible(),this.over);else{b=a.series.items;for(var c=b.length,f=0,e=0;e<c;e++)if(this.showHidden||b[e].visible)if(f==
this.over){this.onclick(b[e],-1);break}else f++}return!0}return!1};this.mousemove=function(b){var a=this.over;if(this.bounds.contains(b))for(var c=this.itemsCount(),e=0;e<c;e++){if(this.calcItemRect(e,f),f.contains(b)){a=e;break}}else a=-1;if(a!=this.over){if(this.onhover)this.onhover(this.over,a);this.over=a;var d=this.chart;window.requestAnimFrame(function(){d.draw()})}this.onclick&&(this.chart.newCursor=-1===a?"default":"pointer")};this.drawSymbol=function(b,a,c){var e=this.symbol;e.draw(b,a,c.x-
h-e.width-e.padding,c.y+.4*this.itemHeight)};var k={x:0,y:0},g=new v,m;this.drawItem=function(a,c,e,f){var d=this.isVertical();this.calcItemPos(e,k);g.x=k.x;g.y=k.y;d?g.y-=this.chart.isMozilla?0:2:this.chart.isMozilla?g.y++:g.y--;var n=b.font.fill;this.over==e?b.font.fill=this.hover.enabled?this.hover.font.fill:n:this.fontColor?b.font.fill=this.showValues()?c.legendColor(e):c.format.fill:c.visible||(b.font.fill="silver");var q=this.chart.ctx;if(f)b.font.textAlign="start",g.x-=l[0],q.textAlign=b.font.textAlign,
b.drawText(g,a);else if(a instanceof Array||(a=[a]),d){f=a.length;d=g.width;for(var u=b.textWidth(" ");f--;)b.font.textAlign=m[f]?"start":"end",g.x-=l[f],q.textAlign=b.font.textAlign,b.drawText(g,a[f]),g.width-=l[f]+u;g.width=d}else b.font.textAlign="start",g.x-=h,q.textAlign=b.font.textAlign,b.drawText(g,a.join(" "));b.font.fill=n;a=!c.isColorEach||this.showValues();this.symbol.visible&&a&&this.drawSymbol(c,e,k);0<e&&""!==this.dividing.fill&&(c=this.bounds,q.beginPath(),this.isVertical()?(q.moveTo(c.x,
g.y-2),q.lineTo(c.getRight(),g.y-2)):(e=g.x-h-4,a=this.symbol,a.visible&&(e-=a.width+a.padding),q.moveTo(e,c.y),q.lineTo(e,c.getBottom())),this.dividing.prepare(),q.stroke())};this.drawSeries=function(b,c){var e=a.series.items[b];return(this.showHidden||e.visible)&&e.legend.visible?(this.drawItem(e.titleText(b),e,c,!0),!0):!1};this.draw=function(){var c=this.itemsCount();var f=this.title;var d=a.ctx,k=this.format.transparency,l=this.isVertical();if(0<c){var y=d.beginParent;this.visual=y?d.beginParent():
null;b.cube(this.bounds);this.transparent||b.draw(d,null,this.bounds);if(0<k){var t=d.globalAlpha;d.globalAlpha=(1-k)*t}l&&0<e&&(f.bounds.x=this.bounds.x-4,f.bounds.y=this.bounds.y,f.doDraw());b.font.prepare();g.width=h;g.height=this.itemHeight;if(this.showValues()){l=a.series.firstVisible();var A=0;f=c;switch(this.textStyle){case "auto":case "percentlabel":case "valuelabel":m=[!1,!0];break;case "labelpercent":case "labelvalue":m=[!0,!1];break;case "label":m=[!0];break;default:m=[!1]}if(this.inverted)for(;f--;)this.drawItem(this.itemText(l,
f),l,A++);else for(A=0;A<f;A++)this.drawItem(this.itemText(l,A),l,A)}else if(f=a.series.count(),l&&(f=Math.min(f,this.availRows())),c=0,m=[!0],this.inverted)for(;f--;)this.drawSeries(f,c)&&c++;else for(A=0;A<f;A++)this.drawSeries(A,c)&&c++;0<k&&(d.globalAlpha=t);y&&d.endParent()}};var h,l;this.calcWidths=function(){var c,e=a.series;h=0;l=[0,0];if(this.showValues()){var f=e.firstVisible();var d=this.itemsCount();for(c=0;c<d;c++)if(e=this.itemText(f,c),e instanceof Array||(e=[e]),0<e.length){var g=
b.textWidth(e[0]);g>l[0]&&(l[0]=g);1<e.length&&(g=b.textWidth(e[1]),g>l[1]&&(l[1]=g))}}else for(d=e.count(),c=0;c<d;c++)if(f=e.items[c],this.showHidden||f.visible)g=b.textWidth(f.titleText(c)),g>l[0]&&(l[0]=g);h=l[0]+l[1]};this.calcPadding=function(b){return.01*this.padding*(this.isVertical()?b.width:b.height)};this.isVertical=function(){var b=this.position;return"right"===b||"left"===b};this.calcrect=function(){var c=0,f=this.title,d=a.chartRect,g=this.align,k=this.bounds,l=this.isVertical();f.shouldDraw()?
(f.resize(),e=f.bounds.height,c=f.bounds.width):e=0;l?k.y=0===g?d.y:a.bounds.height*g*.01:k.x=0===g?d.x:a.bounds.width*g*.01;b.font.prepare();this.itemHeight=b.textHeight("Wj");this.calcWidths();g=this.calcPadding(d);var m=this.itemsCount();l?(l=this.symbol.visible?this.symbol.width+this.symbol.padding:0,k.width=Math.max(c,12+h+l),k.height=(.5+m)*this.itemHeight+e,k.width-6>c&&(f.bounds.width=k.width-6)):(k.width=g+this.perRow*this.totalWidth(),k.x+=.5*(d.width-k.width),k.height=this.itemHeight*(this.rows+
.25));""!==b.stroke.fill&&(l=+b.stroke.size,1<l&&(k.width+=l,k.height+=l,this.innerOff=.5*l));0!==m&&("right"===this.position?(k.x=d.getRight()-k.width-this.margin*k.width*.01,d.automatic&&d.setRight(Math.max(d.x,k.x-g))):"left"===this.position?(k.x=d.x,d.automatic&&d.setLeft(k.x+k.width+g)):"top"===this.position?(k.y=d.y+g,d.automatic&&d.setTop(k.getBottom()+g)):(k.y=d.getBottom()-k.height-g,d.automatic&&d.setBottom(k.y-g)))}}function O(a,d){Tee.Annotation.call(this,d);this.series=a;var b=this.arrow=
new Tee.Format(d);b.length=10;b.underline=!1;b.z=.5;b.depth=.1;this.style="auto";this.drawEvery=1;this.visible=!1;this.format.z=.5;this.setChart=function(a){this.chart=a;this.format.setChart(a);b.setChart(a)};this.drawPolar=function(a,e,f,d){var c=this.series.markText(d);d=a.x+Math.cos(f)*e;var k=a.y+Math.sin(f)*e,h=this.chart.ctx;this.text=c;this.resize();c=this.bounds;var l=this.position;e+=b.length;var n=a.x+Math.cos(f)*e;e=a.y+Math.sin(f)*e;0>n-c.width&&(n-=n-c.width-4);l.x=Math.abs(n-a.x)<c.width?
n-.5*c.width:n<a.x?n-c.width:n;l.y=Math.abs(e-a.y)<c.height?e-.5*c.height:e<a.y?e-c.height:e;h.beginPath();h.moveTo(d,k);h.lineTo(n,e);b.underline&&(e<=l.y||e>=l.y+c.height)&&(h.moveTo(l.x,e),h.lineTo(l.x+c.width,e));b.stroke.prepare();h.stroke();this.draw()};this.canDraw=function(a,e,f,d){if((f=this.series.markText(f))&&""!==f&&(this.showZero||"0"!==f)){this.text=f;this.resize();f=d?-1:1;var c=this.bounds;this.series.yMandatory?(c.x=a-.5*c.width,c.y=e-f*(b.length+(d?0:c.height))):(c.x=a+f*b.length,
d&&(c.x-=c.width),c.y=e-.5*c.height);this.position.x=c.x;this.position.y=c.y;return!0}return!1};this.drawMark=function(a,e,f,d){if(this.canDraw(a,e,f,d)){this.draw();f=this.bounds;var c=this.series.yMandatory,k=d?f.y:f.getBottom(),h=this.chart.ctx,l=this.chart.aspect.view3d;if(c){if(l){a={x:a-3,y:k,width:6,height:e-k};b.z=this.format.z-.5*b.depth;b.cylinder(a,1,!0);b.draw(this.chart.ctx,null,a);return}h.beginPath();h.moveTo(a,k);h.lineTo(a,e);b.underline&&(h.moveTo(f.x,k),h.lineTo(f.x+f.width,k))}else e=
f.y+.5*f.height,h.beginPath(),h.moveTo(a,e),d&&(f.x+=f.width),h.lineTo(f.x,e),b.underline&&(h.moveTo(f.x,f.y+f.height),h.lineTo(f.x+(d?-f.width:f.width),f.y+f.height));b.stroke.prepare();h.stroke()}}}function P(a){for(var d=0,b=a.length;b--;)d+=0<a[b]?a[b]:-a[b];return d}function L(a){return a&&a.constructor==Array?a.filter(function(a){return null!==a}).map(L):a}function H(a){a=L(a);var d=-Number.MAX_VALUE;a.forEach(function(b){d<b&&(d=b)});"[object Date]"===Object.prototype.toString.call(d)&&(d=
d.getTime());return d}function G(a){a=L(a);var d=Number.MAX_VALUE;a.forEach(function(b){d>b&&(d=b)});"[object Date]"===Object.prototype.toString.call(d)&&(d=d.getTime());return d}function M(a){function d(b){return b.visible&&b.firstSeries?(b=b.format.stroke,""===b.fill?0:.5*b.size):0}this.chart=a;this.items=[];this.count=function(){return this.items.length};this.clicked=function(b){var a=!1;this.each(function(c){if(c.visible&&c.onclick){var f=c.clicked(b);-1!=f&&(a=c.onclick(c,f,b.x,b.y))}});return a};
this.mousedown=function(b){for(var a=0,e,f=!1;e=this.items[a++];)e.visible&&e.mousedown(b)&&(f=!0);return f};this.mousemove=function(b){for(var a=0,e;e=this.items[a++];)e.visible&&e.mousemove(b)};this.mouseout=function(){this.each(function(b){b.visible&&b.mouseout()})};this.visibleCount=function(b,a,e){for(var c=0,d=this.items,g=d.length,m;g--,m=d[g];)m.visible&&(!a||m instanceof a)&&(e&&m==b&&(e.index=c),c++);e&&(e.total=c,e.index=c-1-e.index);return c};this.beforeDraw=function(){this.each(function(b){b.useAxes&&
b.recalcAxes();b.calcColorEach()})};this.anyUsesAxes=function(){for(var b=this.items.length,a;b--;)if(a=this.items[b],a.visible&&a.useAxes)return!0;return!1};this.firstVisible=function(){for(var b=0,a;a=this.items[b++];)if(a.visible)return a;return null};this.vertMargins=function(){var b=this.items,a=b.length,e;if(0<a){var f={x:0,y:0};var d={x:0,y:0};b[0].vertMargins(f);for(e=1;e<a;e++)0<b[e].data.values.length&&(d.x=d.y=0,b[e].vertMargins(d),d.x>f.x&&(f.x=d.x),d.y>f.y&&(f.y=d.y))}return f};this.horizMargins=
function(){var b=this.items,a=b.length,e;if(0<a){var f={x:0,y:0};var d={x:0,y:0};b[0].horizMargins(f);for(e=1;e<a;e++)0<b[e].data.values.length&&(d.x=d.y=0,b[e].horizMargins(d),d.x>f.x&&(f.x=d.x),d.y>f.y&&(f.y=d.y))}return f};this.minXValue=function(b){var a=Infinity,e;this.eachAxis(b,function(b){e=b.minXValue();e<a&&(a=e)});return a};this.minYValue=function(b){var a=Infinity,e;this.eachAxis(b,function(b){e=b.minYValue();e<a&&(a=e)});return a};this.maxXValue=function(b){var a=-Infinity,e;this.eachAxis(b,
function(b){e=b.maxXValue();e>a&&(a=e)});return a};this.maxYValue=function(b){var a=-Infinity,e;this.eachAxis(b,function(b){e=b.maxYValue();e>a&&(a=e)});return a};this.draw=function(){var b=this.items.length,a=this.chart,e=a.ctx,f=a.aspect,k;if(0<b){for(k=0;k<b;k++){var g=this.items[k];g.visible&&g.beforeDraw&&g.beforeDraw()}var m=f.clip&&this.anyUsesAxes(),h=a.axes;if(m){a=a.chartRect;var l=d(h.left),n=d(h.top);h={x:a.x+l,y:a.y+n,width:a.width-d(h.right),height:a.height-d(h.bottom)};f.clipRect(h)}try{var q=
e.beginParent;for(k=0;k<b;k++)if(g=this.items[k],g.visible){var u=e.globalAlpha;e.globalAlpha=1-g.format.transparency;g.transform&&(e.save(),g.transform());g.visual=q?e.beginParent():null;if(g.onbeforedraw)g.onbeforedraw(g);g.draw();q&&e.endParent();if(g.ondraw)g.ondraw(g);g.transform&&e.restore();e.globalAlpha=u}}finally{m&&e.restore()}for(k=0;k<b;k++)g=this.items[k],g.visible&&g.marks.visible&&(g.transform&&(e.save(),g.transform()),g.drawMarks(),g.transform&&e.restore())}}}function V(a){this.chart=
a;this.visible=!0;this.transparency=0;this.left=new w(a,!1,!1);this.top=new w(a,!0,!0);this.right=new w(a,!1,!0);this.bottom=new w(a,!0,!1);this.items=[this.left,this.top,this.right,this.bottom];this.each=function(a){for(var b=0,c;c=this.items[b++];)a.call(c)};this.add=function(d,b){var c=new w(a,d,b);c.custom=!0;this.items.push(c);return c}}"undefined"!==typeof exports&&(exports.Tee=Tee);"undefined"!==typeof window&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60,(new Date).getTime())}}());try{Object.defineProperty({},"x",{});var z=Object.defineProperty}catch(a){}"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a,d){void 0===d&&(d=0);0>d&&(d+=this.length);0>d&&(d=0);for(var b=this.length;d<b;d++)if(d in this&&this[d]===a)return d;return-1});Tee.Point=function(a,d){this.x=a;this.y=d};Tee.Rectangle=function(a,d,
b,c){this.x=a;this.y=d;this.width=b;this.height=c;this.set=function(b,a,c,d){this.x=b;this.y=a;this.width=c;this.height=d};this.setFrom=function(b){this.x=b.x;this.y=b.y;this.width=b.width;this.height=b.height};this.getRight=function(){return this.x+this.width};this.getBottom=function(){return this.y+this.height};this.setTop=function(b){this.height-=b-this.y;this.y=b};this.setBottom=function(b){this.height=b-this.y};this.setLeft=function(b){this.width-=b-this.x;this.x=b};this.setRight=function(b){this.width=
b-this.x};this.contains=function(b){return b.x>=this.x&&b.x<=this.x+this.width&&b.y>=this.y&&b.y<=this.y+this.height};this.offset=function(b,a){this.x+=b;this.y+=a}};Tee.Tool=function(a){this.chart=a;this.active=!0};Tee.Animation=function(a,d){Tee.Tool.call(this,a);this.active=!0;this.mode="linear";this.duration=500;this.items=[];this.autoDraw=!0;this.running=this.loop=!1;this.onstop=this.onstart=null;a&&(a instanceof Tee.Chart?this.chart=a:a instanceof Tee.Animation&&(this.chart=a.chart,a.items.push(this)));
var b=null;this._dostart=function(){this.init=(new Date).getTime();b.start();for(var a=0,e;e=b.items[a++];)e.active&&(e.chart=b.chart,e.start());b.chart.draw();requestAnimFrame(this.step,this)};this.animate=function(a){this.running||(this.running=!0,a&&(this.chart=a),b=this,this._dostart())};this.start=function(){if(this.onstart)this.onstart()};this.stop=function(){if(this.onstop)this.onstop()};this.doStep=function(b){d&&d(b)};this.step=function(){var a;var e=((new Date).getTime()-b.init)/b.duration;
var f="linear"==b.mode?e:Math.pow(2,10*(e-1));if(0<=f&&1>f){if(b.running){b.doStep(f);for(e=0;a=b.items[e++];)a.active&&(a.chart=b.chart,a.doStep(f));b.autoDraw&&b.chart.draw();requestAnimFrame(b.step,b)}}else{b.stop();for(e=0;a=b.items[e++];)a.active&&(a.chart=b.chart,a.stop());if(b.onstop)b.onstop(b);b.loop?b._dostart():(b.running=!1,b.chart.draw())}}};Tee.Animation.prototype=new Tee.Tool;Tee.Tool.prototype.mousedown=function(){};Tee.Tool.prototype.mousemove=function(){};Tee.Tool.prototype.mouseout=
function(){};Tee.Tool.prototype.clicked=function(){return!1};Tee.Tool.prototype.draw=function(){};E.prototype.setEndColor=function(a){if(a&&""!==a)for(var d=1,b=this.colors.length;d<b;d++)this.colors[d]=a};N.prototype.set=function(a){this.visible=a.visible;this.color=a.color;this.blur=a.blur;this.width=a.width;this.height=a.height};J.prototype.getSize=function(){var a=this.style.split(" "),d,b;for(d=0;d<a.length;d++)if(b=parseFloat(a[d]))return b;return 20};J.prototype.setSize=function(a){var d="",
b=this.style.split(" "),c;for(c=0;c<b.length;c++)parseFloat(b[c])?d+=a.toString()+"px ":d+=b[c]+" ";this.style=d};J.prototype.prepare=function(){var a=this.chart.ctx;a.textAlign=this.textAlign;a.textBaseline=this.baseLine;this._sh&&this._sh.prepare(a);a.font!=this.style&&(a.font=this.style)};J.prototype.setChart=function(a){this.chart=a;this._g&&(this._g.chart=a);this._sh&&(this._sh.chart=a);this._s&&this._s.setChart(a)};Tee.Format=function(a){this.chart=a;this.gradient=new E(a);this.fill="rgb(200,200,200)";
this.stroke=new I(a);this.round={x:0,y:0};this.transparency=0;this.font=new J(a);this._img=null;z?z(this,"image",{get:function(){this._img||(this._img=new T(this.chart));return this._img}}):this._img=this.image=new T(a);this.shadow=new N(a);this.roundRect=function(b,a,e,f,d){if(b.roundRect)b.roundRect(a,e,f,d,this.round.x,this.round.y);else{var c=a+f,k=e+d,h=this.round.x,l=this.round.y,n=this.round.corners;0>d&&(e=k,k=e-d);0>f&&(a=c,c=a-f);2*h>f&&(h=.5*f);2*l>d&&(l=.5*d);!n||n[0]?b.moveTo(a+h,e):
b.moveTo(a,e);!n||n[1]?(b.lineTo(c-h,e),b.quadraticCurveTo(c,e,c,e+l)):b.lineTo(c,e);!n||n[2]?(b.lineTo(c,k-l),b.quadraticCurveTo(c,k,c-h,k)):b.lineTo(c,k);!n||n[3]?(b.lineTo(a+h,k),b.quadraticCurveTo(a,k,a,k-l)):b.lineTo(a,k);!n||n[0]?(b.lineTo(a,e+l),b.quadraticCurveTo(a,e,a+h,e)):b.lineTo(a,e);b.closePath()}};this.textHeight=function(){return 1.3*this.font.getSize()};this.textWidth=function(b){return this.chart.ctx.measureText(b).width};this.fillBack=function(b,a,e,f,d,g){this.gradient.visible?
(b.fillStyle=a?this.gradient.create(a()):this.gradient.rect(e,f,d,g),b.fill()):""!==this.fill&&(b.fillStyle=this.fill,b.fill())};this.draw=function(b,a,e,f,d,g){var c=this._img;"object"===typeof e&&(f=e.y,d=e.width,g=e.height,e=e.x);if(0<this.transparency){var h=b.globalAlpha;b.globalAlpha=(1-this.transparency)*h}this.shadow.prepare(b);c&&c.visible&&""!==c.url?(b.save(),b.clip(),1==c.backFill&&this.fillBack(b,a,e,f,d,g),a?(a=a(),c.tryDraw(a.x,a.y,a.width,a.height)):c.tryDraw(e,f,d,g),b.restore()):
this.fillBack(b,a,e,f,d,g);""!==this.stroke.fill&&(this.stroke.prepare(),b.stroke());0<this.transparency&&(b.globalAlpha=h)};this.drawText=function(b,a){function c(b){d.fillText(b,h,l);g&&""!==g.fill&&(g.prepare(),d.strokeText(b,h,l))}var f=this.font._g,d=this.chart.ctx,g=this.font._s,m=this.font.textAlign,h=b.x,l=b.y;d.fillStyle=f&&f.visible&&b?f.create(b):this.font.fill;if("center"==m)h+=.5*b.width;else if("right"==m||"end"==m)h+=b.width;f=(a+"").split("\n");m=f.length;if(1<m)for(var n=this.textHeight(f[0]),
q=0;q<m;q++)c(f[q]),l+=n;else c(a)};this.rectangle=function(b,a,e,f){1>this.transparency&&("object"===typeof b?this.rectangle(b.x,b.y,b.width,b.height):(this.rectPath(b,a,e,f),this.draw(this.chart.ctx,null,b,a,e,f)))};this.polygonBounds=function(b,a){var c=0,f=0,d=0,g=0,m=b.length,h;if(0<m)for(c=d=b[0].x,f=g=b[0].y,h=1;h<m;h++){var l=b[h].x;l<c?c=l:l>d&&(d=l);l=b[h].y;l<f?f=l:l>g&&(g=l)}a.x=c;a.y=f;a.width=d-c;a.height=g-f};var d=new v;this.polygon=function(b){var a=this.chart.ctx,e=b.length,f;a.beginPath();
a.moveTo(b[0].x,b[0].y);for(f=1;f<e;f++)a.lineTo(b[f].x,b[f].y);a.closePath();var k=this;this.draw(a,function(){k.polygonBounds(b,d);return d})}};Tee.Format.prototype.ellipsePath=function(a,d,b,c,e){this.chart.__webgl?(a.z=this.z,a.depth=this.depth,a.ellipsePath(d,b,c,e)):(a.save(),a.translate(d,b),a.scale(.5*c,.5*e),a.beginPath(),a.arc(0,0,1,0,2*Math.PI,!1),a.restore())};Tee.Format.prototype.ellipse=function(a,d,b,c){var e=this.chart.ctx;this.ellipsePath(e,a,d,b,c);this.draw(e,null,a-.5*b,d-.5*c,
b,c)};Tee.Format.prototype.sphere=function(a,d,b,c){if(this.chart.__webgl){var e=this.chart.ctx;e.depth=this.depth;e.z=this.z;this.gradient.visible&&(e.fillStyle=this.gradient.colors[this.gradient.colors.length-1]);e.sphere(a,d,b,c)}else this.ellipse(a,d,b,c)};Tee.Format.prototype.cylinder=function(a,d,b,c){if(this.chart.__webgl){var e=this.chart.ctx;e.depth=this.depth;e.z=this.z;e.image=this.image;e.cylinder(a,d,b,c)}else 1==d?this.cube(a):(d=a.width,c=a.height,b?this.polygon([new p(a.x+.5*d,a.y),
new p(a.x,a.y+c),new p(a.x+d,a.y+c)]):this.polygon([new p(a.x+d,a.y+.5*c),new p(a.x,a.y),new p(a.x,a.y+c)]))};Tee.Format.prototype.cube=function(a){var d=this.chart.aspect,b=d.view3d,c=0,e=0;if(b){if(this.chart.__webgl){b=this.chart.ctx;b.depth=this.depth;b.z=this.z;b.cube(a,this.round.x);return}var f=this.z;var k=this.depth;c=f*d._orthox;e=-f*d._orthoy;f=a.x+a.width;var g=a.y+a.height;var m=k*d._orthox;d=-k*d._orthoy;var h=this.shadow.visible;this.shadow.visible=!1;var l=f+m,n=a.y+d;0<k&&(this.polygon([{x:f,
y:a.y},{x:l,y:n},{x:l,y:g+d},{x:f,y:g}]),0<a.width&&this.polygon([{x:a.x,y:a.y},{x:a.x+m,y:n},{x:l,y:n},{x:f,y:a.y}]))}this.rectPath(a.x+c,a.y+e,a.width,a.height);b&&(this.shadow.visible=h)};Tee.Format.prototype.rectPath=function(a,d,b,c){var e=this.chart.ctx;e.beginPath();0<this.round.x&&0<this.round.y?this.roundRect(e,a,d,b,c):e.rect(a,d,b,c)};Tee.Format.prototype.setChart=function(a){this.chart=a;this.shadow.chart=a;this.gradient.chart=a;this.font.setChart(a);this._img&&(this._img.chart=a);this.stroke.setChart(a)};
Tee.Annotation=function(a,d,b,c){function e(b){return!b||0===b.length}Tee.Tool.call(this,a);this.position=new p(b||10,c||10);var f=this.margins=new Q;this.items=[];var k=this.bounds=new v;this.visible=!0;this.transparent=!1;this.text=d||"";this.isDom=!1;this.domElement=null;this.domStyle="border-radius: 5px;border: 2px solid #faad44;background: #FFF;padding:5px;";var g=this.format=new Tee.Format(a);g.font.textAlign="center";g.font.baseLine="top";g.fill="beige";g.round={x:4,y:4};g.stroke.fill="silver";
g.shadow.visible=!0;g.depth=.05;g.z=.5;var m,h,l;this.getDOMHeight=function(){return null==this.domElement?0:this.domElement.offsetHeight};this.getDOMWidth=function(){return null==this.domElement?0:this.domElement.offsetWidth};this.moveTo=function(b,a){this.position.x=b;this.position.y=a;this.resize()};this.shouldDraw=function(){return this.visible&&!e(this.text)};this.resize=function(){if(!e(this.text)){g.font.prepare();this.rows=this.text.split("\n");m=g.textHeight(this.text);var b=this.rows.length;
h=m*b+f.top;var a,c=h+f.bottom;if(1<b)for(a=0;b--;)a=Math.max(a,g.textWidth(this.rows[b]+"W"));else a=g.textWidth(this.text+"W");a+=f.left+f.right;b=this.position;k.set(b.x,b.y,a,c)}};this.add=function(b){b=new Tee.Annotation(this.chart,b);this.items.push(b);b.transparent=!0;return b};this.doDraw=function(){if(!e(this.text))if(this.isDom)this.drawDOMText();else{if(this.transparent)this.chart.ctx.z=g.z;else if(this.chart.aspect.view3d&&0<this.format.depth){var b=g.z;g.z-=.5*this.format.depth;g.cube(k);
g.draw(this.chart.ctx,null,k);g.z=b}else this.chart.ctx.z=g.z,g.rectangle(k);b=this.format.transparency;var a=this.chart?this.chart.ctx:null;if(0<b){var c=a.globalAlpha;a.globalAlpha=(1-b)*c}g.font.prepare();k.y+=f.top+.1*m;k.x+=f.left;var d=k.width;k.width-=f.right;g.drawText(k,this.text);k.x=this.position.x;k.y=this.position.y;k.width=d;0<b&&(a.globalAlpha=c)}};this.clicked=function(b){return this.visible&&k.contains(b)};this.doMouseMove=function(b){(this.mouseinside=this.clicked(b))?(this.cursor&&
(this.chart.newCursor=this.cursor),this.wasinside||(l=new R(250,k,g))):this.wasinside&&(l.restore(),this.chart.draw());this.wasinside=this.mouseinside};this.mousemove=function(b){this.cursor&&"default"!=this.cursor&&this.doMouseMove(b)};this.forceDraw=function(){this.resize();this.doDraw()};this.setChart=function(b){this.chart=b;this.format.setChart(b)};this.drawDOMText=function(){var b=this.chart.canvas.getBoundingClientRect(),a=this.transparent?"opacity:0;":"opacity:1;";this.domElement||(this.domElement=
document.createElement("div"),document.body.appendChild(this.domElement));this.chart.canvas.setAttribute("style","z-index:1;");this.domElement.setAttribute("style","position:absolute;top:"+(this.position.y+b.top)+"px;left:"+(this.position.x+b.left)+"px;display:block;z-index:10000;"+this.domStyle+a);this.domElement.innerHTML!=this.text&&(this.domElement.innerHTML=this.text)}};Tee.Annotation.prototype=new Tee.Tool;Tee.Annotation.prototype.draw=function(){this.visible&&this.forceDraw()};Tee.DragTool=
function(a){Tee.Tool.call(this,a);this.series=null;var d=this.target={series:null,index:-1};this.clicked=function(){d.series=null;d.index=-1};var b=new p(0,0);this.Point=b;this.mousedown=function(a){var c=this.chart.series.items,f=c.length;this.chart.calcMouse(a,b);d.series=null;d.index=-1;if(this.series&&this.series.visible)d.index=this.series.clicked(b),-1!=d.index&&(d.series=this.series);else for(a=0;a<f;a++)if(c[a].visible&&(d.index=c[a].clicked(b),-1!=d.index)){d.series=c[a];break}return-1!=
d.index};this.mousemove=function(b){if(-1!=d.index){var a=d.series;b=a.mandatoryAxis.fromPos(a.yMandatory?b.y:b.x);this.onchanging&&(b=this.onchanging(this,b));a.data.values[d.index]=b;if(this.onchanged)this.onchanged(this,b);this.chart.draw()}}};Tee.DragTool.prototype=new Tee.Tool;Tee.CursorTool=function(a){Tee.Tool.call(this,a);this.direction="both";this.size=new p(0,0);this.followMouse=!0;this.dragging=-1;this.format=new Tee.Format(a);this.horizAxis=a?a.axes.bottom:null;this.vertAxis=a?a.axes.left:
null;var d,b=new v;this.over=function(a){var c=-1;if(b.contains(a)){var f=3>Math.abs(d.x-a.x);a=3>Math.abs(d.y-a.y);var e=this.direction;"both"==e&&f&&a?c=0:!f||"both"!=e&&"vertical"!=e?!a||"both"!=e&&"horizontal"!=e||(c=2):c=1}return c};this.calcRect=function(){var c=a.chartRect,f=this.horizAxis,e=this.vertAxis;b.x=f?f.startPos:c.x;b.width=f?f.endPos-b.x:c.width;b.y=e?e.startPos:c.y;b.height=e?e.endPos-b.y:c.height};var c=new p(0,0);this.mousedown=function(b){this.chart.calcMouse(b,c);this.dragging=
this.followMouse?-1:this.over(c);return-1<this.dragging};this.clicked=function(){this.dragging=-1};this.mousemove=function(c){var g=this.dragging,k=this.followMouse;if(k||-1<g)if(d||(d=new p),d.x!=c.x||d.y!=c.y)if(this.calcRect(),b.contains(c)){if(k||0===g||1===g)d.x=c.x;if(k||0===g||2===g)d.y=c.y;"full"==this.render?this.chart.draw():(e&&("copy"==this.render?this.chart.ctx.drawImage(e,0,0):(g=a.bounds,f.clearRect(g.x,g.y,g.width,g.height))),this.dodraw("copy"==this.render?this.chart.ctx:f));if(this.onchange)this.onchange(c);
return}c=this.over(c);this.chart.newCursor=d&&-1<c?0===c?"move":1===c?"e-resize":"n-resize":"default"};this.render="copy";var e,f;this.setRender=function(b){this.render=b;e&&(this.resetCopy(),this.chart.draw())};this.resetCopy=function(){var b=this.chart.canvas;"layer"==this.render?(e.style.position="absolute",b.parentNode.appendChild(e),e.setAttribute("left",b.offsetLeft+"px"),e.setAttribute("top",b.offsetTop+"px"),e.style.left=b.offsetLeft,e.style.top=b.offsetTop,e.style.zIndex=10,e.style.pointerEvents=
"none"):e.parentNode&&e.parentNode.removeChild(e)};this.draw=function(){"full"==this.render?this.dodraw(this.chart.ctx):(e||(e=this.chart.canvas.cloneNode(),this.resetCopy(),f=e.getContext("2d")),"copy"==this.render?(f.drawImage(a.canvas,0,0),this.dodraw(this.chart.ctx)):this.dodraw(f))};this.dodraw=function(a){var c=this.direction,f="both"==c;this.calcRect();d||(d=new p(b.x+.5*b.width,b.y+.5*b.height));a.beginPath();if(f||"vertical"==c){var e=.5*this.size.y;a.moveTo(d.x,0===e?b.y:d.y-e);a.lineTo(d.x,
0===e?b.y+b.height:d.y+e)}if(f||"horizontal"==c)e=.5*this.size.x,a.moveTo(0===e?b.x:d.x-e,d.y),a.lineTo(0===e?b.x+b.width:d.x+e,d.y);this.format.stroke.prepare(this.format.stroke.fill,a);a.stroke()}};Tee.CursorTool.prototype=new Tee.Tool;Tee.ToolTip=function(a){function d(){function b(b){c.moveTo(c.oldX+b*c.deltaX,c.oldY+b*c.deltaY);c.autoRedraw&&c.chart.draw()}var a=((new Date).getTime()-c.init)/c.animated;1>a?(b(a),window.requestAnimFrame(d,c)):b(1)}Tee.Annotation.call(this,a);this.findPoint=this.visible=
!1;this.currentSeries=null;this.currentIndex=-1;this.timID=null;this.autoHide=!1;this.delay=1E3;this.animated=100;this.autoRedraw=!0;this.render="dom";this.domStyle="padding:5px; margin-left:5px; background-color:#666; border-radius:4px 4px; color:#FFF; z-index:1000;";this.hide=function(){var b="dom"===this.render;if(this.visible||b){if(this.onhide)this.onhide(this);this.visible=!1;this.autoRedraw&&(b?Tee.DOMTip.hide():this.chart.draw());this.currentIndex=-1;this.currentSeries=null}};var b=function(b){b&&
b[0].hide()};this.mousemove=function(a){var c=this.chart.series,e=c.count(),d=null,m=-1;if(this.chart.chartRect.contains(a))for(var h=e-1;0<=h;h--){var l=c.items[h];if(l.visible){m=l.clicked(a);if(-1==m&&l.continuous){m=Math.round(this.chart.axes.bottom.fromSizeCalcIndex(a.x-this.chart.axes.bottom.startPos));for(var n,q,u=0;u<e;u++)n=Math.abs(c.items[u].data.values[m]-this.chart.axes.left.fromPos(a.y)),0==u?(q=n,l=c.items[u]):n<q&&(l=c.items[u])}if(-1!=m){d=l;break}}}else m=-1;if(-1==m)this.hide(),
this.currentIndex=-1,this.currentSeries=null;else if(m!=this.currentIndex||d!=this.currentSeries)if(this.currentIndex=m,this.currentSeries=d)this.refresh(d,m),this.autoHide&&0<this.delay&&(clearTimeout(this.timID),this.timID=window.setTimeout(b,this.delay,[this]))};var c=null;this.refresh=function(b,a){var f="dom"===this.render;this.visible=!f;this.text=b.markText(a);this.ongettext&&(this.text=this.ongettext(this,this.text,b,a));if(""!==this.text){this.resize();var e=new p;b.calc(a,e);e.x-=.5*this.bounds.width;
e.y-=1.5*this.bounds.height;0>e.x&&(e.x=0);0>e.y&&(e.y=0);f||this.autoHide||!(0<this.animated)||isNaN(this.position.x)||isNaN(this.position.y)?(this.moveTo(e.x,e.y),this.autoRedraw&&(f?Tee.DOMTip.show(this.text,"auto",this.chart.canvas,this.domStyle,this):this.chart.draw())):(this.oldX=this.position.x,this.oldY=this.position.y,this.deltaX=e.x-this.oldX,this.deltaY=e.y-this.oldY,this.init=(new Date).getTime(),c=this,window.requestAnimFrame(d,this));if(this.onshow)this.onshow(this,b,a)}}};Tee.ToolTip.prototype=
new Tee.Annotation;Tee.RainbowPalette=function(){return"#FF0000 #FF7F00 #FFFF00 #00FF00 #0000FF #6600FF #8B00FF".split(" ")};Tee.Palette=function(a){this.colors=a};Tee.Palette.prototype.get=function(a){return this.colors[-1==a?0:a%this.colors.length]};U.prototype=new Tee.Annotation;w.adjustRect=function(){if(this.visible){var a=0,d=this.labels,b=this.chart.chartRect,c=this.title,e;(this.firstSeries=this.hasAnySeries())&&this.visible&&(this.checkMinMax(),d.checkStyle(),(e=c.shouldDraw())&&c.resize(),
b.automatic&&!this.custom&&(d.visible&&(d.format.font.prepare(),this.maxLabelDepth=a=this.minmaxLabelWidth(!0),d.alternate&&(a*=2),a+=d.padding),this.ticks.visible&&(a+=this.ticks.length),e&&(a+=c.bounds.height),this.horizontal?this.otherSide?b.setTop(b.y+a):b.height-=a:this.otherSide?b.width-=a:b.setLeft(b.x+a)))}};w.prototype.setPos=function(a,d){this.startPos=a+this.start*d*.01;this.endPos=a+this.end*d*.01;this.axisSize=this.endPos-this.startPos};w.calcRect=function(){if(this.firstSeries){this.checkMinMax();
var a=this.chart.chartRect,d=this.bounds,b=this.horizontal;b?(d.y=this.otherSide?a.y:a.y+a.height,d.width=a.width,this.setPos(a.x,a.width)):(d.x=this.otherSide?a.x+a.width:a.x,d.height=a.height,this.setPos(a.y,a.height));this.calcAxisScale();d=this.chart.series;0<d.items.length&&this.automatic&&(d=d.items[0],d instanceof Tee.Bar&&d.notmandatory==this&&"sideAll"==d.stacked&&(d.notmandatory.minimum=-.5,d.notmandatory.maximum=d.countAll(!1)-.5));if(this.automatic){d=this.chart.series;d=b?d.horizMargins():
d.vertMargins();var c=0<d.x,e=0<d.y;c&&(this.minimum-=this.fromSize(d.x));e&&(this.maximum+=this.fromSize(d.y));(c||e)&&this.calcAxisScale()}this.calcScale();d=(b?a.height:a.width)*this.position*.01;c=this.chart.walls;e=0;var f=c.visible&&this.chart.aspect.view3d;b?(f&&c.bottom.visible&&(e=c.bottom.size),this.axisPos=this.otherSide?a.y+d:a.getBottom()+e-d):(f&&c.left.visible&&(e=c.left.size),this.axisPos=this.otherSide?a.getRight()-d:a.x-e+d)}};w.draw=function(){this.visible&&this.firstSeries&&(this.z=
this.otherSide?this.chart.walls.back.format.z:0,1E-9>=Math.abs(this.maximum-this.minimum)&&(1E-9>Math.abs(this.minimum)?this.setMinMax(this.minimum-1E-8,this.maximum+1E-8):this.setMinMax(this.minimum-this.minimum/1E7,this.maximum+this.maximum/1E7),null!=this.chart&&this.chart.draw()),""!==this.format.stroke.fill&&this.drawAxis(),this.roundMin()+1E3*this.increm>this.maximum&&(this.grid.visible&&this.drawGrids(),this.ticks.visible&&this.drawTicks(this.ticks,1,0),this.innerTicks.visible&&this.drawTicks(this.innerTicks,
-1,0),this.minorTicks.visible&&this.drawTicks(this.minorTicks,1,Math.max(0,this.minorTicks.count)),this.labels.visible&&this.drawLabels()),this.title.shouldDraw()&&this.drawTitle())};O.prototype=new Tee.Annotation;"map"in Array.prototype||(Array.prototype.map=function(a,d){for(var b=Array(this.length),c=0,e=this.length;c<e;c++)c in this&&(b[c]=a.call(d,this[c],c,this));return b});"filter"in Array.prototype||(Array.prototype.filter=function(a,d){for(var b=[],c,e=0,f=this.length;e<f;e++)e in this&&
a.call(d,c=this[e],e,this)&&b.push(c);return b});Tee.Series=function(a,d){this.chart=null;this.data={values:[],labels:[],source:null};this.yMandatory=!0;this.horizAxis="bottom";this.vertAxis="left";this.legend={visible:!0};this.sequential=!0;var b=this.format=new Tee.Format(this.chart),c=this.hover=new Tee.Format(this.chart),e=c.shadow;b.fill="";b.stroke.fill="";this.visible=!0;c.stroke.size=.3;c.fill="";c.stroke.fill="red";e.visible=!0;e.blur=10;e.width=0;e.height=0;this.cursor="default";this.over=
-1;this.marks=new O(this,this.chart);this.palette=new Tee.Palette;this.paletteName="opera";this.themeName="default";this.colorEach="auto";this.useAxes=!0;this.decimals=2;this._paintWalls=this._paintAxes=!0;this.init=function(b,a){"object"===typeof b&&b&&(b instanceof Array?(this.data.values=b,a instanceof Array&&(this.data.labels=a)):b instanceof Tee.Chart?(this.chart=b,a instanceof Array&&(this.data.values=a)):(this.data.source=b,this.refresh()))};this.init(a,d);this.getFill=function(b,a){var c=
this.palette;c=c&&c.colors?c.get(b):null;return null===c?this.isColorEach||!a?this.chart.palette.get(b):a.fill:c};this.isNull=function(b){return null===this.data.values[b]};this.getFillStyle=function(a,c){return b.gradient.visible?b.gradient.create(a,c):c};this.title="";this.titleText=function(b){return this.title||"Series "+b.toString()};this.refresh=function(b){this.data.source?this.data.source instanceof HTMLTextAreaElement?(parseText(this.data,this.data.source.value),this.chart&&this.chart.draw()):
this.data.source instanceof HTMLInputElement?Tee.doHttpRequest(this,this.data.source.value,function(b,a){parseText(b.data,a);b.chart.draw()},function(a,c){b&&b(this,a,c)}):b&&b(this):this.data.xml?(parseXML(this,this.data.xml),this.chart.draw()):this.data.json&&(parseJSON(this,this.data.json),this.chart.draw())};this.valueOrLabel=function(b){var a=this.data.labels[b];a&&""!==a||(a=this.valueText(b));return a};this.toPercent=function(b){var a=this.data.values;return(100*Math.abs(a[b])/P(a)).toFixed(this.decimals)+
" %"};this.markText=function(b){var a=this.marks,c=this.dataText(b,a.style,!1);return a.ongettext?a.ongettext(this,b,c):c};this.associatedToAxis=function(b){return b.horizontal?"both"==this.horizAxis||this._horizAxis==b:"both"==this.vertAxis||this._vertAxis==b};this.bounds=function(b){var a=this._horizAxis,c=this._vertAxis;b.x=a.calc(this.minXValue());b.width=a.calc(this.maxXValue())-b.x;b.y=c.calc(this.maxYValue());b.height=c.calc(this.minYValue())-b.y};this.calcStack=function(b,a,c){c=this.pointOrigin(b,
!1)+c;var e=this.mandatoryAxis;a.x=this.notmandatory.calc(this.data.x?this.data.x[b]:b);this.isStack100?(b=this.pointOrigin(b,!0),a.y=0===b?e.endPos:e.calc(100*c/b)):a.y=e.calc(c);this.yMandatory||(b=a.x,a.x=a.y,a.y=b)};this.pointOrigin=function(b,a){var c=0,e,d=this.chart.series.items;for(e=0;e<d.length;e++){var f=d[e];if(!a&&f==this)break;else if("no"!=f.stacked){var n=f.data.values;f.visible&&f.constructor==this.constructor&&n.length>b&&(f=n[b],void 0!==f&&(c+=a&&0>f?-f:f))}}return c};this.doHover=
function(b){var a=this.chart;if(b!=this.over){if(a.onhover)a.onhover(this,b);this.over=b;this.hover.enabled&&window.requestAnimFrame(function(){a.draw()})}}};Tee.Series.prototype.initZ=function(a,d){var b=this.format;b.z=a/d;b.depth=1/d;this.marks.format.z=b.z+.5*b.depth};Tee.Series.prototype.setChart=function(a,d){a.chart=d;a.recalcAxes();a.format.setChart(d);a.marks.setChart(d);a.hover.setChart(d)};Tee.Series.prototype.calc=function(a,d){var b=this.data,c=this.notmandatory.calc(b.x?b.x[a]:a);b=
this.mandatoryAxis.calc(b.values[a]);d.x=this.yMandatory?c:b;d.y=this.yMandatory?b:c};Tee.Series.prototype.recalcAxes=function(){var a=this.chart.axes;this._horizAxis=this.horizAxis instanceof w?this.horizAxis:"top"==this.horizAxis?a.top:a.bottom;this._vertAxis=this.vertAxis instanceof w?this.vertAxis:"right"==this.vertAxis?a.right:a.left;this.mandatoryAxis=this.yMandatory?this._vertAxis:this._horizAxis;this.notmandatory=this.yMandatory?this._horizAxis:this._vertAxis};Tee.Series.prototype.getRect=
function(){return new v};Tee.Series.prototype.clicked=function(){return-1};Tee.Series.prototype.fixedFloatToLocal=function(a,d){var b=a.toFixed(d),c=a.toLocaleString(this.chart.language);if(-1!=b.indexOf(".")){var e=(1.1).toLocaleString(this.chart.language).substring(1,2);b=b.substring(b.indexOf(".")+1);return c.substring(0,-1==c.indexOf(e)?c.length:c.indexOf(e))+e+b}return a};Tee.Series.prototype.valueText=function(a){return(a=(this.data._old||this.data.values)[a])?a instanceof Date?a.format?a.format(this.dateFormat):
a.toString():this.valueFormat?a.toLocaleString(this.chart.language):(a|0)==a?this.fixedFloatToLocal(a,0).toString():this.fixedFloatToLocal(a,this.decimals).toString():"0"};Tee.Series.prototype.labelOrTitle=function(a){return this.data.labels[a]||this.title};Tee.Series.prototype.mousedown=function(){return!1};Tee.Series.prototype.mousemove=function(a){if(this.hover.enabled||"default"!=this.cursor){var d=this.clicked(a);this.doHover(d);if("default"!=this.cursor&&-1!=d){this.chart.newCursor||(this.chart.newCursor=
this.cursor);return}}d=this.marks;if(d.visible){var b=this.data.values.length,c=new p,e;for(e=0;e<b;e+=d.drawEvery)if(!this.isNull(e)&&(this.markPos(e,c),d.canDraw(c.x,c.y,e)&&d.bounds.contains(a))){this.doHover(e);break}}};Tee.Series.prototype.mouseout=function(){};Tee.Series.prototype.markPos=function(a,d){this.calc(a,d);return!1};Tee.Series.prototype.drawMarks=function(){var a=this.data.values.length,d=new p,b;for(b=0;b<a;b+=this.marks.drawEvery)if(!this.isNull(b)){var c=this.markPos(b,d);this.marks.drawMark(d.x,
d.y,b,c)}};Tee.Series.prototype.horizMargins=function(){};Tee.Series.prototype.vertMargins=function(){};Tee.Series.prototype.minXValue=function(){return this.data.x&&0<this.data.x.length?G(this.data.x):0};Tee.Series.prototype.minYValue=function(){var a=this.data.values;return 0<a.length?G(a):0};Tee.Series.prototype.maxXValue=function(){if(this.data.x)return 0<this.data.x.length?H(this.data.x):0;var a=this.data.values.length;return 0===a?0:a-1};Tee.Series.prototype.maxYValue=function(){var a=this.data.values,
d=a.length,b;if(0<d){var c=H(a);if(c!==c)for(b=0;b<d;b++){var e=a[b];void 0!==e&&(c!==c?c=e:e>c&&(c=e))}return c===c?c:0}return 0};Tee.Series.prototype.calcColorEach=function(){this.isColorEach="yes"==this.colorEach};Tee.Series.prototype.stackMaxValue=function(){if("100"==this.stacked)return 100;var a=Tee.Series.prototype.maxYValue;if("no"==this.stacked)return a.call(this);a=a.call(this);for(var d=this.data.values,b=d.length,c;b--;)c=d[b],void 0===c&&(c=0),a=Math.max(a,this.pointOrigin(b,!1)+c);return a};
Tee.Series.prototype.dataText=function(a,d,b,c){function e(b,a){return c?f?[b,a]:[b,""]:b+(a?" "+a:"")}var f=b?this.labelOrTitle(a):this.data.labels[a];return"value"==d?this.valueText(a):"percent"==d?this.toPercent(a):"percentlabel"==d?e(this.toPercent(a),f):"valuelabel"==d||"auto"==d?e(this.valueText(a),f):"label"==d?f||"":"index"==d?a.toFixed(0):"labelvalue"==d?e(f,this.valueText(a)):"labelpercent"==d?e(f,this.toPercent(a)):this.valueOrLabel(a)};Tee.Series.prototype.legendText=Tee.Series.prototype.dataText;
Tee.Series.prototype.count=function(){return this.data.values.length};Tee.Series.prototype.legendCount=function(){return this.count()};Tee.Series.prototype.legendColor=function(a){return this.isColorEach&&-1!=a?this.getFill(a):this.format.fill};Tee.Series.prototype.addRandom=function(a,d,b){d||(d=1E3);a||(a=5);var c=this.data;c.values.length=a;b&&(c.x=Array(a));if(0<a){c.values[0]=Math.random()*d;b&&(c.x[0]=Math.random()*d);for(var e=1;e<a;e++)c.values[e]=c.values[e-1]+Math.random()*d-.5*d,b&&(c.x[e]=
Math.random()*d)}return this};Tee.Series.prototype.doSort=function(a,d){if("none"==a)return null;for(var b=this.data.values,c=b.length,e=Array(c),f=0;f<c;f++)e[f]=f;if("labels"==a){b=this.data.labels;var k,g,m=d?-1:1,h=d?1:-1;e.sort(function(a,c){k=b[a].toLowerCase();g=b[c].toLowerCase();return k<g?m:k==g?0:h})}else e.sort(d?function(a,c){return b[a]-b[c]}:function(a,c){return b[c]-b[a]});return e};M.prototype.each=function(a){for(var d=this.items.length,b=0;b<d;b++)a(this.items[b])};M.prototype.eachAxis=
function(a,d){for(var b=this.items.length,c;b--;)c=this.items[b],c.visible&&(!a||c.associatedToAxis(a))&&(c.__alwaysDraw||0<c.count())&&d(c)};Tee.Chart=function(a,d,b){function c(a){f.chart.addSeries(new (b||Tee.Bar)(f.chart)).data.values=a}var e="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";this.isChrome=-1<e.indexOf("chrome");this.isAndroid=-1<e.indexOf("android");this.isMozilla="undefined"!==typeof window&&window.mozRequestAnimationFrame;this.language=window.navigator.userLanguage||
window.navigator.language;a&&(this.canvas="undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement?a:"string"==typeof a?document.getElementById(a):a);this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.width=600,this.canvas.height=400);var f=this.canvas;this.bounds=(this.__webgl=f.__webgl)||0===f.clientWidth?new v(0,0,f.width,f.height):new v(0,0,f.clientWidth,f.clientHeight);this.chartRect=new v;this.chartRect.automatic=!0;this.chartRect.setFrom(this.bounds);this.palette=
new Tee.Palette("#4466a3 #f39c35 #f14c14 #4e97a8 #2b406b #1d7b63 #b3080e #f2c05d #5db79e #707070 #f3ea8d #b4b4b4".split(" "));var k=this.aspect={chart:this,view3d:this.__webgl,ortogonal:!this.__webgl,rotation:0,elevation:315,perspective:50,clip:!0,_orthox:10,_orthoy:8,clipRect:function(b){var a=this.chart.ctx;a.save();a.beginPath();this.view3d?a.rect(b.x,b.y-this._orthoy,b.width+this._orthox,b.height+this._orthoy):a.rect(b.x,b.y,b.width,b.height);a.clip()}};this.panel=new Z(this);this.walls={chart:this,
visible:!0,left:new K(this),right:new K(this),bottom:new K(this),back:new K(this),draw:function(b,a){var c=this.chart.ctx,e=this.transparency,f=c.beginParent;this.visual=f?c.beginParent():null;if(0<e){var d=c.globalAlpha;c.globalAlpha=(1-e)*d}var h=this.back.bounds;h.setFrom(b);if(a.view3d){var g=this.bottom.visible?this.bottom.size:0,l=this.left.size;0<l&&(h.x-=l,h.width+=l);0<g&&(h.height+=g);this.left.bounds.set(b.x-l,b.y,l,b.height+g);this.bottom.bounds.set(b.x,b.getBottom(),b.width,g);this.back.format.depth=
this.back.size}!this.back.visible||this.back.draw();this.chart.aspect.view3d&&(this.left.visible&&this.left.draw(),this.bottom.visible&&this.bottom.draw(),this.right.visible&&this.right.draw());0<e&&(c.globalAlpha=d);f&&c.endParent()}};a=this.walls.back.format;a.fill="rgb(240,240,240)";a.shadow.visible=!0;a.z=1;a=this.walls.left;a.format.fill="#BBAA77";a.format.depth=1;a.size=2;a=this.walls.bottom;a.format.depth=1;a.size=2;this.walls.right.visible=!1;this.axes=new V(this);this.legend=new S(this);
this.series=new M(this);this.title=new U(this,"blue");this.title.text="TeeChart";this.title.format.z=1;this.footer=new U(this,"red");this.footer.format.z=0;this.zoom=new X(this);this.scroll=new Y(this);this.tools=new W(this);this.oldPos=new p;this.calcMouse=function(b,a){a.x=b.clientX;a.y=b.clientY;var c=this.canvas;if(c.getBoundingClientRect)c=c.getBoundingClientRect(),a.x-=c.left,a.y-=c.top;else if(c.offsetParent){do a.x-=c.offsetLeft,a.y-=c.offsetTop,c=c.offsetParent;while(c)}};var g=new p(0,0);
this.domousemove=function(b){var a=this.chart;if(!a.ctx)return!1;b=b||window.event;b.touches&&(b=b.touches[b.touches.length-1]);a.calcMouse(b,g);if(a.scroll.active){var c=a.scroll.direction,e="both"==c;if(e||"horizontal"==c){var f=a.axes.bottom.fromSize(a.oldPos.x-g.x);a.axes.top.scroll(f);a.axes.bottom.scroll(f)}if(e||"vertical"==c)f=-a.axes.left.fromSize(a.oldPos.y-g.y),a.axes.left.scroll(f),a.axes.right.scroll(f);a.oldPos.x=g.x;a.oldPos.y=g.y;a.scroll.done=!0;if(a.onscroll)a.onscroll(b);a.scroll.done&&
window.requestAnimFrame(function(){a.draw()});return!1}if(a.zoom.active){if(g.x!=a.oldPos.x||g.y!=a.oldPos.y)a.zoom.change(g),window.requestAnimFrame(function(){a.draw()}),a.zoom.done=!0;return!1}a.newCursor=null;a.tools.mousemove(g);a.series.mousemove(g);a.legend.mousemove(g);a.title.mousemove(g);a.mousemove&&a.mousemove(g);b=this.chart.canvas.style;a.newCursor?b.cursor!=a.newCursor&&(a.oldCursor=b.cursor,b.cursor=a.newCursor):void 0!==a.oldCursor&&b.cursor!=a.oldCursor&&(b.cursor=a.oldCursor);return!0};
var m=new p(0,0);this.domousedown=function(b){b=b||window.event;var a=!1,c=this.chart;c.calcMouse(b.touches?b.touches[0]:b,m);var e=c.series.anyUsesAxes()&&c.chartRect.contains(m);doubleTap(c);c.zoom.enabled&&twoFingersZoom(c,c.zoom);e=c.series.anyUsesAxes()&&c.chartRect.contains(m);b.touches?1<b.touches.length?c.scroll.active=!1:(c.scroll.active=c.scroll.enabled&&e,c.scroll.active&&(c.zoom.active=!1)):(c.zoom.active=b.button==c.zoom.mouseButton&&c.zoom.enabled&&e,c.scroll.active=b.button==c.scroll.mouseButton&&
c.scroll.enabled&&e);c.zoom.done=!1;c.scroll.done=!1;c.oldPos=m;0===b.button?(a=c.tools.mousedown(b),a||(a=c.series.mousedown(b))||(a=c.legend.mousedown(b)),a||c.mousedown&&(a=c.mousedown(b)),c.canvas.oncontextmenu=null):2==b.button&&(c.canvas.oncontextmenu=function(){return!1});a?c.zoom.active=c.scroll.active=!1:a=c.zoom.active||c.scroll.active;b.preventDefault?b.preventDefault():b.cancelBubble=!0;a&&(b=b.target||b.fromElement)&&b.setCapture&&b.setCapture();return!a};this.domouseup=function(b){b=
b||window.event;var a=this.chart;a.zoom.active=!1;a.scroll.active=!1;if(a.zoom.done){if(a.zoom.apply()&&a.onzoom)a.onzoom();a.draw();var c=!0}else if(c=a.scroll.done,!c){c=a.series.clicked(a.oldPos);if(!c&&(c=a.tools.clicked(a.oldPos),!c&&(c=a.title.clicked(a.oldPos))&&a.title.onclick))a.title.onclick(a.title);c||a.mouseup&&(c=a.mouseup(b))}a.zoom.old=null;a.zoom.done=!1;a.scroll.done=!1;c?b.preventDefault?b.preventDefault():b.cancelBubble=!0:a.canvas.oncontextmenu=null;(b=b.target||b.fromElement)&&
b.releaseCapture&&b.releaseCapture()};f.onmousedown=f.ontouchstart=this.domousedown;f.onmouseup=f.ontouchend=this.domouseup;f.onmousemove=f.ontouchmove=this.domousemove;this._doWheel=function(b){var a=this.chart;if(a.zoom.wheel.enabled){b=b||window.event;var c=a.zoom.wheel.factor*(b.wheelDelta?b.wheelDelta/120:b.detail?-b.detail/3:0);if(0<Math.abs(c)){var e={x:0,y:0};a.calcMouse(b,e);a.chartRect.contains(e)&&(a.axes.each(function(){var b=this.maximum-this.minimum;0<b&&(b=c*b*.05,this.setMinMax(this.minimum+
b,this.maximum-b))}),a.draw(),b.returnValue=!1,b.preventDefault&&b.preventDefault());for(b=0;f=a.tools.items[b++];)f instanceof Tee.ToolTip&&f.active&&f.mousemove(e)}}else{b=0;for(var f;f=a.tools.items[b++];)f instanceof Tee.ToolTip&&f.active&&f.hide()}};f.addEventListener&&f.addEventListener("DOMMouseScroll",this._doWheel,!1);f.onmousewheel=this._doWheel;f.onmouseout=function(b){b&&!b.target.setCapture&&(this.chart.scroll.active=!1);this.chart.series.mouseout();this.chart.tools.mouseout()};this.addSeries=
function(b){b.setChart(b,this);null!=b.donutArray&&"undefined"!==b.donutArray&&b.linkDonutsToChart();var a=this.series.items,c=a.indexOf(b);-1==c&&(c=a.push(b)-1);""===b.title&&(b.title="Series"+(1+c).toString());""===b.format.fill&&(b.format.fill=this.palette.get(c));return b};this.removeSeries=function(b){var a=this.series.items;b=a.indexOf(b);-1!=a&&a.splice(b,1)};f.chart=this;if(d&&0<d.length)if(d[0]instanceof Array)for(a=0;a<d.length;a++)c(d[a]);else c(d);this.getSeries=function(b){return this.series.items[b]};
this.draw=function(b){var a=this.series,c=this.chartRect;b=this.ctx=b||(this.canvas.getContext?this.canvas.getContext("2d"):null);if(!b)throw"Canvas does not provide Context";c.automatic&&c.setFrom(this.bounds);for(var e=a.items.length,f,d=!1,g=!1,h=1,m=a.visibleCount(),A=0;e--;)f=a.items[e],f.visible&&(f.initZ(A,m),A++,f._paintAxes&&(d=!0),f._paintWalls&&(g=!0),f.maxZ&&f.maxZ>h&&(h=f.maxZ));this.walls.left.format.depth=h;this.walls.bottom.format.depth=h;this.walls.back.format.z=h;this.panel.draw();
c.automatic&&this.panel.margins.apply(c);this.title.tryDraw(!0);this.footer.tryDraw(!1);a.beforeDraw();this.legend.visible&&(this.legend.calcrect(),this.legend.draw());k.view3d&&!this.__webgl&&(c.y+=k._orthoy,c.height-=k._orthoy,c.width-=k._orthox);a=this.axes;if(this.series.anyUsesAxes()&&(a.each(w.adjustRect),a.each(w.calcRect),this.walls.visible&&g&&this.walls.draw(c,this.aspect),a.visible&&d)){if(0<a.transparency){var p=b.globalAlpha;b.globalAlpha=(1-a.transparency)*p}c=b.beginParent;a.visual=
c?b.beginParent():null;a.each(w.draw);c&&b.endParent();0<a.transparency&&(b.globalAlpha=p)}this.series.draw();this.tools.draw();this.zoom.active&&this.zoom.draw();if(this.ondraw)this.ondraw(this);this.isNLc&&(p=new Tee.Format(this),b=this.ctx,b.save(),b.font="13px Courier",c=p.textWidth("TeeChart Evaluation (c)Steema Software 2018"),c={x:this.chartRect.x+this.chartRect.width/2-c/2,y:this.bounds.height/2,width:c,height:p.textHeight("H")},b.translate(this.chartRect.x+this.chartRect.width/2,this.bounds.height/
2),b.rotate(-30*Math.PI/180),b.translate(-(this.chartRect.x+this.chartRect.width/2),-(this.bounds.height/2)),p.font.fill="rgba(64,108,128, 0.55)",p.drawText(c,"TeeChart Evaluation (c)Steema Software 2018"),b.restore())};this.toImage=function(b,a,c){if(b=document.getElementById(b))b.src=""!==a?this.canvas.toDataURL(a,c):this.canvas.toDataURL()}};Tee.CustomBar=function(a,d){Tee.Series.call(this,a,d);this.sideMargins=100;this.useOrigin=!0;this.origin=0;this.continuous=!1;this.marks.visible=!0;this.marks.location=
"end";this.hover.enabled=!0;this.offset=0;this.barSize=70;this.barStyle="bar";var b=this.format;b.fill="";b.stroke.fill="black";b.shadow.visible=!0;b.round.x=4;b.round.y=4;b.gradient.visible=!0;b.depth=1;this.stacked="no";this.drawBar=function(a,c){var e=b.depth,f=b.z,d=this.chart.ctx;c||(c=this.barStyle);b.depth=.5*Math.min(this.yMandatory?a.width:a.height,200)/100;if(0<a.width&&0<a.height){"side"!==this.stacked&&(b.z+=.5*(1-b.depth));if("bar"===c)b.cube(a);else if("line"===c)if(d.beginPath(),d.z=
b.z+.5*b.depth,this.yMandatory){var g=a.x+.5*a.width;d.moveTo(g,a.y);d.lineTo(g,a.y+a.height)}else g=a.y+.5*a.height,d.moveTo(a.x,g),d.lineTo(a.x+a.width,g);else"cylinder"===c?b.cylinder(a,1,this.yMandatory):"cone"===c?b.cylinder(a,0,this.yMandatory):"ellipsoid"===c&&this.chart.__webgl?(d.depth=b.depth,d.z=b.z,d.image=this.image,d.ellipsoid(a,this.yMandatory)):(b.z+=.5*b.depth,b.ellipsePath(this.chart.ctx,a.x+.5*a.width,a.y+.5*a.height,a.width,a.height));b.depth=e;b.z=f;return!0}return!1};this.countAll=
function(b){var a=this.chart.series.items,c=0,e=a.length,f;for(f=0;f<e;f++){var d=a[f];if(d==this&&b)break;else d.visible&&d.constructor==this.constructor&&(c+=d.data.values.length)}return c};var c=new p,e,f=new v,k={total:0,index:0};this._margin=0;this.calcBarOffset=function(b){var a="sideAll"==this.stacked;this.countall=a?this.countAll(!0):0;a=a?this.countAll():this.data.values.length;1<a&&(b/=a);"no"==this.stacked?(b/=k.total,c.x=b*this.barSize*.01*(1==k.total?-.5:k.index-.5*k.total),a=k.total):
(c.x=.5*-b,a=1);c.y=b*this.barSize*.01;this._margin=.5*a*c.y+this.sideMargins*a*(b-c.y)*.005;"no"!=this.stacked&&(c.x+=this.offset*b*.01+.5*(b-c.y))};this.calcStackPos=function(b,a){if(this.isStacked){this.calcStack(b,a,this.data.values[b]);var c=this.pointOrigin(b,!1);var f=this.mandatoryAxis;if(this.isStack100){var d=this.pointOrigin(b,!0);e=0===d?f.endPos:f.calc(100*c/d)}else e=f.calc(c)}else this.calc(b,a),"sideAll"==this.stacked&&(d=this.notmandatory.calc(this.countall+b),this.yMandatory?a.x=
d:a.y=d)};var g=!1;this.draw=function(){var a=this.data.values.length;if(0<a){this.initOffsets();var d=new p,k=this.chart.ctx;this.hover.enabled||(b.stroke.prepare(),b.shadow.prepare(k));var n=this.hover.enabled,q="line"===this.barStyle,u=this.data.styles;n&&null!=this.format.image.url&&(this.hover.image.url=this.format.image.url,this.hover.image.repeat=this.format.image.repeat,this.hover.image.backFill=this.format.image.backFill);for(var r=b.z=0;r<a;r++)if(!this.isNull(r)){this.calcStackPos(r,d);
this.calcBarBounds(d,f,c,e instanceof Array?e[r]:e);var x=this.drawBar(f,u?u[r]:null),y=n&&this.over==r,t=y?this.hover:b;k.fillStyle=this.getFillStyle(f,this.getFill(r,""===t.fill?b:t));this.format.gradient.visible||(t.fill=k.fillStyle);n&&t.shadow.prepare(k);y&&(null==this.format.image.url||g?k.fill():(g=!0,b.draw(k,null,f)));x&&(t.draw(k,null,f),q||""!==t.stroke.fill)&&(n&&t.stroke.prepare(),!y&&q&&(k.strokeStyle=k.fillStyle),k.shadowColor="transparent",k.stroke(),t.shadow.visible&&(k.shadowColor=
t.shadow.color))}}};this.calcColorEach=function(){this.chart.series.visibleCount(this,Tee.CustomBar,k);this.isColorEach="yes"==this.colorEach||"auto"==this.colorEach&&1==k.total};this.initOffsets=function(){var b=this.notmandatory,a=this.mandatoryAxis,c=this.yMandatory?this.maxXValue()-this.minXValue():this.maxYValue()-this.minYValue();"sideAll"==this.stacked?this.calcBarOffset(b.axisSize):this.calcBarOffset(0===c?b.axisSize:b.calcSize(c));if(this.useOrigin)if(this.origin instanceof Array)for(e=[],
b=0;b<this.origin.length;b++)e[b]=a.calc(this.origin[b]);else e=a.calc(this.origin);else e=this.yMandatory?a.inverted?a.startPos:a.endPos:a.inverted?a.endPos:a.startPos;a=this.stacked;this.isStacked="no"!==a&&"sideAll"!==a&&"side"!==a;this.isStack100="100"===a};this.clicked=function(b){this.initOffsets();var a=new p,d=this.data.values.length,g;for(g=0;g<d;g++)if(!this.isNull(g)&&(this.calcStackPos(g,a),this.calcBarBounds(a,f,c,e instanceof Array?e[g]:e),f.contains(b)))return g;return-1};this.markPos=
function(b,a){var d=this.yMandatory,g=c.x+.5*c.y,h=this.marks;this.calcStackPos(b,a);if("sideAll"==this.stacked){var k=this.notmandatory.calc(this.countall+b);d?a.x=k:a.y=k}k=this.useOrigin&&this.data.values[b]<(this.origin instanceof Array?this.origin[b]:this.origin);this.mandatoryAxis.inverted&&(k=!k);"center"==h.location&&(this.calcBarBounds(a,f,c,e instanceof Array?e[b]:e),h.canDraw(a.x,a.y,b,k)&&(d?a.y=f.y+.5*f.height+.5*h.bounds.height:a.x=f.x+.5*f.width-.5*h.bounds.width));h=this.chart.aspect;
var m=h.view3d,x=0,y=0;m&&h.orthogonal&&(x=.5*h._orthox,y=.5*h._orthoy);d?(a.x+=m?g+x:g,m&&(a.y-=y)):(a.y+=m?g-y:g,m&&(a.x+=x));return k};this.labelOrTitle=function(b){var a=this.title,c=this.data.labels[b];return 1<k.total?a||c:this.parent.labelOrTitle(b)};this.initZ=function(b,a){var c=this.format;if("side"!==this.stacked)for(c.z=0,c.depth=1;1<b;){b--;var e=this.chart.series.items[b];if(e.visible&&e.constructor==this.constructor){c.z=e.z;c.depth=e.depth;break}}else Tee.Series.prototype.initZ.call(this,
b,a);this.marks.format.z=c.z+.5*c.depth}};Tee.CustomBar.prototype=new Tee.Series;Tee.CustomBar.prototype.parent=Tee.Series.prototype;Tee.CustomBar.constructor=Tee.CustomBar;Tee.Bar=function(a,d){Tee.CustomBar.call(this,a,d);this.calc=function(b,a){this.isStacked?this.calcStack(b,a,this.data.values[b]):this.parent.calc.call(this,b,a)};this.horizMargins=function(b){this.initOffsets();b.x=this._margin;b.y=this._margin};this.vertMargins=function(b){var a=this.marks,e=this.format.stroke,f=this.minYValue()<
(this.origin instanceof Array?G(this.origin):this.origin);a.visible&&"center"!==a.location&&(b.y=a.arrow.length+a.format.textHeight("Wj")+a.margins.top+a.margins.bottom,e=a.format.stroke);""!==e.fill&&(b.y+=2*e.size+1);f&&(b.x=b.y)};this.maxXValue=function(){return"sideAll"===this.stacked?this.countAll()-1:this.parent.maxXValue.call(this)};this.minYValue=function(){var b=this.parent.minYValue.call(this);return this.useOrigin?Math.min(this.origin instanceof Array?G(this.origin):this.origin,b):b};this.maxYValue=
function(){if("sideAll"===this.stacked||"side"===this.stacked){var b=0,a=this.chart.series.items,e=a.length,f;for(f=0;f<e;f++){var d=a[f];d.visible&&d.constructor===this.constructor&&(d=d.parent.maxYValue.call(d),d>b&&(b=d))}return b}return this.stackMaxValue()};this.calcBarBounds=function(b,a,e,d){a.x=b.x+e.x;a.width=e.y;this._vertAxis.inverted?(a.y=d,a.height=b.y-a.y):(a.y=b.y,a.height=d-b.y);0>a.height&&(a.y+=a.height,a.height=-a.height)}};Tee.Bar.prototype=new Tee.CustomBar;Tee.Bar.prototype.parent=
Tee.CustomBar.prototype;Tee.HorizBar=function(a,d){Tee.CustomBar.call(this,a,d);this.yMandatory=!1;this.format.gradient.direction="rightleft";this.maxMarkWidth=function(){var a=0,c,e=this.marks,d=this.count();if(e.visible){var k=this.marks.format;k.font.prepare();for(c=0;c<d;c+=e.drawEvery)if(!this.isNull(c)){var g=k.textWidth(this.markText(c)+"W");g>a&&(a=g)}}return a};this.horizMargins=function(a){var b=this.marks,e=this.format.stroke,d=this.minXValue()<this.origin;b.visible&&"center"!==b.location&&
(a.y=b.arrow.length+this.maxMarkWidth()+b.margins.left+b.margins.right,e=b.format.stroke);""!==e.fill&&(a.y+=2*e.size+1);d&&(a.x=a.y)};this.vertMargins=function(a){this.initOffsets();a.x+=this._margin;a.y+=this._margin};this.maxYValue=function(){return"sideAll"==this.stacked?this.countAll()-1:this.parent.maxXValue.call(this)};this.minYValue=function(){return"sideAll"==this.stacked?0:this.parent.minXValue.call(this)};this.minXValue=function(){var a=this.parent.minYValue.call(this);return this.useOrigin?
Math.min(this.origin,a):a};this.maxXValue=function(){return this.stackMaxValue()};this.calcBarBounds=function(a,c,e,d){c.y=a.y+e.x;c.height=e.y;this._horizAxis.inverted?(c.x=a.x,c.width=d-a.x):(c.x=d,c.width=a.x-c.x);0>c.width&&(c.x+=c.width,c.width=-c.width)}};Tee.HorizBar.prototype=new Tee.CustomBar;Tee.HorizBar.prototype.parent=Tee.CustomBar.prototype;Tee.CustomSeries=function(a,d){Tee.Series.call(this,a,d);this.stacked="no";this.invertedStairs=this.stairs=!1;this.continuous=!0;this.hover.enabled=
!0;this.isStack100=this.isStacked=this.hover.line=!1;this.smooth=0;this.pointer=new function(a,c){this.setChart=function(a){this.chart=a;this.format.setChart(a)};this.chart=a;this.inflateMargins=!0;var b=this.format=new Tee.Format(a);b.shadow.visible=!1;b.fill="";b.gradient.colors=["white","white","white"];b.gradient.visible=!0;b.shadow.visible=!0;this.colorEach=this.visible=!1;this.style="rectangle";this.height=this.width=12;this.draw=function(a,b,e,d){var f=this.chart.ctx;e.z=c.format.z;this.transform&&
(f.save(),this.transform(a.x,a.y,b));b=.5*this.width;var g=.5*this.height;"cube"==this.style?(a={x:a.x-b,y:a.y-g,width:this.width,height:this.height},d=Math.max(b,g)/50,e.z=.5*(c.format.z+c.format.depth)-.5*d,e.depth=d,e.cube(a),e.draw(f,null,a)):"rectangle"==this.style?e.rectangle(a.x-b,a.y-g,this.width,this.height):"ellipse"==this.style?e.ellipse(a.x,a.y,this.width,this.height):"sphere"==this.style?(e.depth=c.format.depth,e.sphere(a.x,a.y,this.width,this.height)):"cylinder"==this.style?(a={x:a.x-
b,y:a.y-g,width:this.width,height:this.height},d=e.gradient,b=d.direction,g=d.colors.slice(0),d.direction="leftright",d.colors=[d.colors[1],d.colors[0],d.colors[1]],e.cylinder(a,1,!0),e.draw(f,null,a),d.direction=b,d.colors=g):"cone"==this.style?(a={x:a.x-b,y:a.y-g,width:this.width,height:this.height},e.cylinder(a,0,!0),e.draw(f,null,a)):"triangle"==this.style?e.polygon([new p(a.x,a.y-g),new p(a.x-b,a.y+g),new p(a.x+b,a.y+g)]):"downtriangle"==this.style?e.polygon([new p(a.x,a.y+g),new p(a.x-b,a.y-
g),new p(a.x+b,a.y-g)]):"diamond"==this.style?e.polygon([new p(a.x,a.y-g),new p(a.x-b,a.y),new p(a.x,a.y+g),new p(a.x+b,a.y)]):(f.beginPath(),"cross"==this.style&&(f.moveTo(a.x-b,a.y),f.lineTo(a.x+b,a.y),f.moveTo(a.x,a.y-g),f.lineTo(a.x,a.y+g)),"x"==this.style&&(f.moveTo(a.x-b,a.y-g),f.lineTo(a.x+b,a.y+g),f.moveTo(a.x-b,a.y+g),f.lineTo(a.x+b,a.y-g)),e.stroke.prepare(d),f.stroke());this.transform&&f.restore()};this.setSize=function(a){this.height=this.width=a}}(this.chart,this);this.maxYValue=function(){return this.stackMaxValue()};
this.calc=function(a,c){this.isStacked?this.calcStack(a,c,this.data.values[a]):Tee.Series.prototype.calc.call(this,a,c)};this.calcColorEach=function(){this.isColorEach="yes"==this.colorEach||this.pointer.colorEach};this.initZ=function(a,c){var b=this.format;if("no"!==this.stacked)for(b.z=0,b.depth=1;1<a;){a--;var d=this.chart.series.items[a];if(d.visible&&d.constructor==this.constructor){b.z=d.z;b.depth=d.depth;break}}else Tee.Series.prototype.initZ.call(this,a,c);this.marks.z=b.z+.5*b.depth}};Tee.CustomSeries.prototype=
new Tee.Series;Tee.CustomSeries.prototype.drawPointers=function(){var a=this.data.values.length,d=this.pointer.format,b="yes"==this.colorEach||this.pointer.colorEach;b||""!==d.fill||(d.fill=this.format.fill);var c=new p,e=d.gradient,f,k=d.fill,g=k;!b&&e.visible&&e.setEndColor(k);for(f=0;f<a;f++)this.isNull(f)||(this.calc(f,c),k=this.getFill(f,d),k!=g&&(e.visible?e.setEndColor(k):d.fill=k,g=k),this.getSize(f),this.pointer.draw(c,f,d,k),this.hover.enabled&&this.over==f&&this.pointer.draw(c,f,this.hover,
k));b&&(d.fill=g)};Tee.CustomSeries.prototype.setChart=function(a,d){var b=Tee.Series.prototype.setChart;b(a,d);a.pointer.setChart(d)};Tee.CustomSeries.prototype.clicked=function(a){var d=new p,b=new p,c=this.data.values.length,e;if(this.drawLine&&0<c&&(this.hover.line||!this.pointer.visible))for(this.calc(0,d),e=1;e<c;e++){this.calc(e,b);if(this.stairs){var f=this.invertedStairs?new p(b.x,d.y):new p(d.x,b.y);if(D(a,d,f,3)||D(a,f,b,3))return e}else if(D(a,d,b,3))return e;d.x=b.x;d.y=b.y}if(this.pointer.visible)for(d=
new v,b=this.pointer,e=c-1;0<=e;e--)if(!this.isNull(e)&&(this.calc(e,d),this.getSize(e),d.x-=.5*b.width,d.width=b.width,d.y-=.5*b.height,d.height=b.height,d.contains(a)))return e;return-1};Tee.CustomSeries.prototype.horizMargins=function(a){var d=this.pointer,b=d.format.stroke;d.visible&&d.inflateMargins&&(a.x=a.y=(""!==b.fill?b.size:0)+1+.5*d.width)};Tee.CustomSeries.prototype.vertMargins=function(a){var d=this.pointer,b=d.format.stroke;d.visible&&d.inflateMargins&&(a.x=a.y=(""!==b.fill?b.size:0)+
1+.5*d.height)};Tee.CustomSeries.prototype.getSize=function(){};Tee.Line=function(a,d){Tee.CustomSeries.call(this,a,d);this.drawLine=!0;this.treatNulls="dontPaint";var b=this.format;b.shadow.visible=!0;b.shadow.blur=10;b.lineCap="round";this.doDrawLine=function(a){var c=new p,d=this.data.values.length,k,g=0,m=d,h=this.notmandatory;this.smooth||this.data.x||(g=Math.max(0,(h.minimum|0)-1),m=Math.min(d,(h.maximum|0)+2));h=this.chart.aspect.view3d;a.beginPath();if(0<this.smooth&&"undefined"!==typeof Tee.drawSpline){var l=
Array(2*d);for(k=0;k<d;k++)this.calc(k,c),l[2*k]=c.x,l[2*k+1]=c.y;a.spline?a.spline(l):Tee.drawSpline(a,l,this.smooth,!0)}else for(d="skip"!==this.treatNulls,k=g;k<m;k++)if(this.isNull(k))d&&(g=-1);else{this.calc(k,c);k==g||-1===g?(a.moveTo(c.x,c.y),g=0):(this.stairs&&(this.invertedStairs?a.lineTo(c.x,n):a.lineTo(l,c.y)),a.lineTo(c.x,c.y));l=c.x;var n=c.y}l=b.stroke;this.chart.isChrome&&b.shadow.visible&&(l.size=Math.max(1.1,l.size));a.z=b.z;a.depth=b.depth;c=l.fill;""===c&&(c=b.fill);l.prepare(c);
b.shadow.prepare(a);h&&(a.fillStyle=b.fill,a.fill());""!==c&&a.stroke()};this.draw=function(){0<this.data.values.length&&(this.isStacked="no"!=this.stacked,this.isStack100="100"==this.stacked,this.drawLine&&this.doDrawLine(this.chart.ctx),this.pointer.visible&&this.drawPointers())}};Tee.Line.prototype=new Tee.CustomSeries;Tee.PointXY=function(a,d){Tee.Line.call(this,a,d);this.hover.enabled=!0;this.pointer.visible=!0;this.drawLine=!1};Tee.PointXY.prototype=new Tee.Line;Tee.Series.prototype.cellRect=
function(a,d,b){var c={total:0,index:-1};a.setFrom(this.chart.chartRect);this.chart.series.visibleCount(this,b,c);if(d&&1<c.total){d=Math.round(Math.sqrt(c.total));b=Math.round(c.total/d);if(a.width>a.height){var e=d;d=b;b=e}a.width/=d;a.x+=c.index%d*1.03*a.width;a.height/=b;a.y+=1.03*(c.index/d|0)*a.height;a.width*=.94;a.height*=.94}return a};Tee.Pie=function(a,d){function b(a,b){b.x=h.x+Math.cos(a)*m;b.y=h.y+Math.sin(a)*m}Tee.Series.call(this,a,d);this.marks.style="percent";this.rotation=this.donut=
0;this.colorEach="yes";this.continuous=this.useAxes=!1;this.angleWidth=360;this.maxRadius=100;var c=this.format;c.stroke.fill="black";c.shadow.visible=!0;c.gradient.visible=!0;c.gradient.direction="radial";c.gradient.colors=["white","white","white"];this.hover.enabled=!0;this.sort="values";this.orderAscending=!1;this.explode=null;this.marks.visible=!0;this.concentric=!1;this.getValue=function(a){return this.data.values[a]};this.calcCenter=function(a,b,c,d){this.explode&&(a=this.explode[a])&&(a=b*
a*.01,d.x+=a*Math.cos(c),d.y+=a*Math.sin(c))};this.clicked=function(a){var b=this.chart.ctx,c=this.data.values.length,d;if(b.isPointInPath)for(q=n=Math.PI*this.rotation/180,d=0;d<c;d++){var e=l?l[d]:d;if(!this.isNull(e)&&(this.slice(b,e),b.isPointInPath(a.x,a.y)))return e}return-1};var e,f,k,g,m,h={x:0,y:0},l,n,q,u;this.getCenter=function(a){a.x=h.x;a.y=h.y;return g};this.slice=function(a,d){var l=new p;q+=Math.abs(this.data.values[d])/e*Math.PI*2/(360/this.angleWidth);h.x=f;h.y=k;this.calcCenter(d,
g,.5*(n+q),h);0===this.donut?(l.x=h.x,l.y=h.y):b(n,l);this.chart.__webgl?(b(2*Math.PI-n,l),a.slice(l,h,g,n,q,m,c.tube,c.beveled)):(a.beginPath(),a.moveTo(l.x,l.y),a.arc(h.x,h.y,g,n,q,!1),0!==this.donut&&(b(q,l),a.lineTo(l.x,l.y),a.arc(h.x,h.y,m,q,n,!0)),a.closePath());d==this.over&&(u=n);n=q};this.fill=function(a){return this.getFillStyle(this.chart.chartRect,this.getFill(a))};this.slices=function(a){var b=this.chart.ctx,d=this.data.values.length,e;q=n=Math.PI*this.rotation/180;b.z=.5;b.depth=1;for(e=
0;e<d;e++){var f=l?l[e]:e;this.isNull(f)||(this.slice(b,f),a?c.shadow.prepare(b):b.fillStyle=this.fill(f),b.fill(),a||(f=c.stroke,""!==f.fill&&(f.prepare(),b.stroke())))}};var r=new v;this.draw=function(){if(0<this.data.values.length){var a=0,b=this.marks;c.shadow.visible&&(a+=2*c.shadow.height);b.visible&&(b.format.font.prepare(),a+=b.format.textHeight("Wj")+.5*b.arrow.length);this.cellRect(r,!this.concentric,Tee.Pie);f=r.x+.5*r.width;k=r.y+.5*r.height;g=.5*r.width;a=.5*(r.height-2*a);0>a&&(a=0);
a<g&&(g=a);m=g*this.donut*.01;g/=100/this.maxRadius;e=P(this.data.values);l=this.doSort(this.sort,this.orderAscending);this.chart.__webgl||this.slices(!0);this.slices(!1);this.hover.enabled&&-1!=this.over&&(a=this.hover,""!==a.stroke.fill&&(q=n=u,b=this.chart.ctx,this.slice(b,this.over),b.fillStyle=this.fill(this.over),a.draw(b,null,r)))}};this.drawMarks=function(){var a=Math.PI*this.rotation/180,b=a,c=this.data.values,d=c.length,m;this.marks.format.z=.5;for(m=0;m<d;m+=this.marks.drawEvery){var n=
l?l[m]:m;this.isNull(n)||(a+=Math.abs(c[n])/e*Math.PI*2,b=.5*(b+a),h.x=f,h.y=k,this.calcCenter(m,g,b,h),this.marks.drawPolar(h,g,b,n),b=a)}}};Tee.Pie.prototype=new Tee.Series;Tee.Area=function(a,d){Tee.CustomSeries.call(this,a,d);this.useOrigin=!1;this.origin=0;this.drawLine=!0;var b=this.format;b.shadow.visible=!0;b.lineCap="round";b.stroke.fill="black";b.fill="";b.beveled=!0;b.depth=1;b.z=.5;var c=new v;this.draw=function(){var a=this.data.values.length;if(0<a){var d=this.mandatoryAxis,k=this.notmandatory,
g=this.yMandatory;var m=this.useOrigin?d.calc(this.origin):g&&d.inverted||!g&&!d.inverted?d.startPos:d.endPos;this.isStacked="no"!=this.stacked;this.isStack100="100"==this.stacked;var h=new p,l;d=this.chart.ctx;var n=this.isStacked,q=0,u=a;this.smooth||this.data.x||(q=Math.max(0,(k.minimum|0)-1),u=Math.min(a,(k.maximum|0)+2));d.depth=b.depth;d.z=b.z;d.beginPath();if(0<this.smooth&&"undefined"!==typeof Tee.drawSpline){var r=Array(2*a);for(l=0;l<a;l++)this.calc(l,h),r[2*l]=h.x,r[2*l+1]=h.y;k=g?r[0]:
r[1];d.spline?d.spline(r,!0):Tee.drawSpline(d,r,this.smooth,!0);if(n){var x=0;for(l=a-1;0<=l;l--)this.calcStack(l,h,0),r[x++]=h.x,r[x++]=h.y;d.lineTo(r[0],r[1]);d.spline?d.spline(r,!0):Tee.drawSpline(d,r,this.smooth,!1)}}else{this.calc(q,h);d.moveTo(h.x,h.y);k=g?h.x:h.y;var y=g?h.y:h.x;if(this.stairs)for(l=q+1;l<u;l++)this.calc(l,h),d.lineTo(h.x,y),d.lineTo(h.x,h.y),y=g?h.y:h.x;else for(l=q+1;l<u;l++)this.calc(l,h),d.lineTo(h.x,h.y)}if(n){if(0===this.smooth)for(l=u-1;l>=q;l--)this.calcStack(l,h,0),
this.stairs?(d.lineTo(h.x,y),d.lineTo(h.x,h.y),y=g?h.y:h.x):d.lineTo(h.x,h.y)}else g?(d.lineTo(h.x,m),d.lineTo(k,m)):(d.lineTo(m,h.y),d.lineTo(m,k));d.closePath();a=b.gradient;a.visible&&(a.colors[a.colors.length-1]=b.fill);this.bounds(c);d.__webgl&&(d.beveled=b.beveled);b.draw(d,null,c);this.pointer.visible&&this.drawPointers()}};this.minYValue=function(){var a=this.yMandatory?Tee.Series.prototype.minYValue.call(this):Tee.Series.prototype.minXValue.call(this);return this.yMandatory?this.useOrigin?
Math.min(a,this.origin):a:a};this.minXValue=function(){var a=this.yMandatory?Tee.Series.prototype.minXValue.call(this):Tee.Series.prototype.minYValue.call(this);return this.yMandatory?a:this.useOrigin?Math.min(a,this.origin):a};this.maxYValue=function(){var a=this.yMandatory?this.stackMaxValue():Tee.Series.prototype.maxXValue.call(this);return this.yMandatory?this.useOrigin?Math.max(a,this.origin):a:a};this.maxXValue=function(){var a=this.yMandatory?Tee.Series.prototype.maxXValue.call(this):this.stackMaxValue();
return this.yMandatory?a:this.useOrigin?Math.max(a,this.origin):a};this.vertMargins=function(a){this.yMandatory&&""!==b.stroke.fill&&(a.y+=b.stroke.size+2)};this.horizMargins=function(a){this.yMandatory||""===b.stroke.fill||(a.y+=b.stroke.size+2)}};Tee.Area.prototype=new Tee.CustomSeries;Tee.HorizArea=function(a,d){Tee.Area.call(this,a,d);this.yMandatory=!1};Tee.HorizArea.prototype=new Tee.Area;Tee.Donut=function(a,d){var b=100,c=[];Tee.Pie.call(this,a,d);this.donut=50;this.refreshWidth=function(){if(this.concentric){c=
this.chart.series.items;for(var a=0,d=0,k=0;k<c.length;k++)c[k].visible&&a++;if(100==b)for(k=0;k<c.length;k++)c[k].donut<b&&(b=c[k].donut);for(k=0;k<c.length;k++)c[k].visible&&(c[k].donut=b+(100-b)/a*d,d++)}}};Tee.Donut.prototype=new Tee.Pie;Tee.ActivityGauge=function(a,d){function b(a,b,c,d,e){a=new Tee.Donut([a],[b]);a.concentric=!0;a.marks.visible=!1;a.format.shadow.visible=!1;a.format.gradient.visible=!1;a.donut=c;a.maxRadius=d;a.angleWidth=e;a.rotation=270;a.visible=!1;return a}function c(a,
b,c){var d=a.format,e=b.format;d.fill=b.chart.palette.colors[b.donutArray.length-1-c%b.chart.palette.colors.length];d.font.baseLine=e.font.baseLine;d.font.fill=e.font.fill;d.font.style=e.font.style;d.font.textAlign=e.font.textAlign;d.gradient.colors=[e.gradient.colors[0][c]];d.gradient.direction=e.gradient.direction;d.gradient.offset.x=e.gradient.offset.x;d.gradient.offset.y=e.gradient.offset.y;d.gradient.stops=e.gradient.stops;d.gradient.visible=e.gradient.visible;d.round.x=e.round.x;d.round.y=e.round.y;
d.shadow.blur=e.shadow.blur;d.shadow.color=e.shadow.color;d.shadow.height=e.shadow.height;d.shadow.visible=e.shadow.visible;d.shadow.width=e.shadow.width;d.stroke.fill=e.stroke.fill.slice(0);d.stroke.cap=e.stroke.cap;d.stroke.dash=e.stroke.dash;d.stroke.join=e.stroke.join;d.stroke.size=e.stroke.size;d.transparency=e.transparency;a.fill=function(a){return d.gradient.visible?d.gradient.colors:d.fill}}Tee.Donut.call(this,[],[]);this.data={values:null!=a?a:[],labels:null!=d?d:[]};this.donutArray=[];this.maxDrawWidth=
this.maxWidth=230;this.addRandom=function(a){for(var b=0;b<a;b++)this.add(Math.floor(20*Math.random()+10),String.fromCharCode(65+b));return this};this.maxValue=function(){for(var a=this.data.values[0],b=0;b<this.data.values.length;b++)a<this.data.values[b]&&(a=this.data.values[b]);return a};if(null!=a)for(var e=0;e<a.length;e++){var f=40+60*e/a.length,k=40+60*(e+1)/a.length,g=Math.abs(this.maxDrawWidth*a[a.length-1-e]/this.maxValue());this.donutArray.push(b(a[a.length-1-e],d[a.length-1-e],f,k,g))}this.clicked=
function(a){for(var b=-1,c=0;c<this.donutArray.length&&-1==b;)-1==b&&-1!=this.donutArray[c].clicked(a)&&(b=this.donutArray.length-c-1),c++;return b};this.recalcWidth=function(){for(var a=0;a<this.donutArray.length;a++)this.donutArray[a].donut=40+60*a/this.data.values.length,this.donutArray[a].maxRadius=40+60*(a+1)/this.data.values.length,this.donutArray[a].angleWidth=Math.abs(this.maxDrawWidth*this.data.values[this.data.values.length-1-a]/this.maxValue())};this.minValue=function(){for(var a=this.data.values[0],
b=0;b<this.data.values.length;b++)a>this.data.values[b]&&(a=this.data.values[b]);return a};this.add=function(a,c){var d=b(a,c,0,0,0);this.donutArray.push(d);this.data.values.push(a);this.data.labels.push(c);null!=this.chart&&this.linkDonutsToChart()};this.draw=function(){for(var a=0;a<this.donutArray.length;a++){var b=this.donutArray[a].chart.ctx;c(this.donutArray[a],this,a);b.fillStyle=this.donutArray[a].getFillStyle(this.donutArray[a].chart.chartRect,this.donutArray[a].format.fill);this.recalcWidth();
this.donutArray[a].draw()}};this.linkDonutsToChart=function(){for(var a=0;a<this.donutArray.length;a++)this.donutArray[a].setChart(this.donutArray[a],this.chart)}};Tee.ActivityGauge.prototype=new Tee.Donut;Tee.Gantt=function(a,d){Tee.Series.call(this,a,d);this.yMandatory=!1;this.dateFormat="mediumDate";this.hover.enabled=!0;this.hover.round.x=this.hover.round.y=8;this.colorEach="yes";this.data.start=this.data.values;this.data.x=[];this.data.end=[];this.height=70;this.margin=new p(6,6);this.continuous=
!1;var b=this.format;b.shadow.visible=!0;b.round.x=b.round.y=8;b.stroke.fill="black";b.gradient.visible=!0;var c=new v,e;this.addRandom=function(a){a||(a=5);var b=this.data;b.x.length=a;b.start.length=a;b.end.length=a;if(0<a)for(var c,d,e=0;e<a;e++)b.x[e]=e,c=12*Math.random()|0,d=10*Math.random()|0,b.start[e]=new Date(2012,c,d),5>c&&(c=5+(7*Math.random()|0)),b.end[e]=new Date(2012,c,d+10*Math.random())};this.bounds=function(a,b){if(this.isNull(a))return!1;this.calc(a,b);b.y-=.5*e;b.width=this.data.end?
this.mandatoryAxis.calcSize(this.data.end[a]-this.data.start[a]):0;b.height=e;return!0};this.add=function(a,b,c,d){var e=this.data;e.labels.push(b);e.x.push(a);e.start.push(c);e.end.push(d)};this.clicked=function(a){var b=this.data.values.length,d;for(d=0;d<b;d++)if(this.bounds(d,c)&&c.contains(a))return d;return-1};this.draw=function(){var a=this.data.values.length,d,g=this.hover,m=g.fill;e=this.notmandatory.calcSize(.01*this.height);for(d=0;d<a;d++)if(this.bounds(d,c)){var h=g.enabled&&this.over===
d?g:b;h.fill=this.getFillStyle(c,this.getFill(d,h));h.rectangle(c)}g.fill=m};this.horizMargins=function(a){a.x=this.margin.x;a.y=this.margin.y};this.minYValue=function(){return this.parent.minXValue.call(this)-.5};this.maxYValue=function(){return this.parent.maxXValue.call(this)+.5};this.minXValue=function(){return G(this.data.start)};this.maxXValue=function(){return H(this.data.end)}};Tee.Gantt.prototype=new Tee.Series;Tee.Gantt.prototype.parent=Tee.Series.prototype;Tee.Bubble=function(a,d){Tee.PointXY.call(this,
a,d);var b=this.pointer;b.colorEach=!0;b.style="sphere";b.format.gradient.visible=!0;b.format.gradient.direction="radial";this.inflate=!0;this.data.radius=[];this.addRandom=function(a){var b=this.data;a||(a=5);b.values.length=a;b.x=null;b.radius=[];b.radius.length=a;if(0<a)for(var c=0;c<a;c++)b.values[c]=1E3*Math.random(),b.radius[c]=50+150*Math.random()}};Tee.Bubble.prototype.initZ=function(){this.parent.prototype.initZ.call(this);this.format.marks.z=this.format.z-1};Tee.Bubble.prototype=new Tee.PointXY;
Tee.Bubble.prototype.getSize=function(a){a=this.data.radius?this._vertAxis.calcSize(this.data.radius[a]):0;this.pointer.width=a;this.pointer.height=a};Tee.Bubble.prototype.horizMargins=function(a){this.calcWidth=function(a){this.getSize(a);a=1+.5*this.pointer.width;var b=this.pointer.format.stroke;""!==b.fill&&(a+=b.size);return a};this.pointer.visible&&this.inflate&&(a.x=this.calcWidth(0),a.y=this.calcWidth(this.count()-1))};Tee.Bubble.prototype.vertMargins=function(a){this.calcHeight=function(a){this.getSize(a);
a=1+.5*this.pointer.height;var b=this.pointer.format.stroke;""!==b.fill&&(a+=b.size);return a};if(this.pointer.visible&&this.inflate){var d,b=0,c=0,e=this.count(),f={x:0,y:0};if(0<e){this.calc(0,f);var k=d=f.y;for(var g=1;g<e;g++)this.calc(g,f),f.y<k?b=g:f.y>d&&(c=g);a.x=this.calcHeight(c);a.y=this.calcHeight(b)}}};Tee.Volume=function(a,d){Tee.Bar.call(this,a,d);this.barStyle="line";this.colorEach=this.marks.visible=!1;var b=this.format;b.shadow.visible=!1;b.gradient.visible=!1;b.stroke.fill=""};
Tee.Volume.prototype=new Tee.Bar;Tee.Candle=function(a,d){Tee.PointXY.call(this,a,d);var b=this.format;b.z=.5;b.depth=.1;this.pointer.width=7;this.pointer.format.stroke.visible=!1;var c=this.higher=this.pointer.format;c.fill="green";var e=this.lower=new Tee.Format(this.chart);e.fill="red";e.stroke.visible=!1;this.style="candle";this.setChart=function(a,b){var c=Tee.PointXY.prototype.setChart;c(a,b);e.setChart(b)};this.draw=function(){var a=this.data,d=a.values.length,g,m=new p,h=this.pointer,l=.5*
h.width,n=this.mandatoryAxis,q=this.chart.ctx;q.z=b.z+.5*b.depth;for(g=0;g<d;g++)if(!this.isNull(g)){this.calc(g,m);var u=m.x;var r=n.calc(a.open[g]);var x=n.calc(a.high[g]);var y=n.calc(a.low[g]);if(m.y>r){var t=r;var A=m.y-r;var B=e}else t=m.y,A=r-t,B=c;"bar"==this.style?(q.beginPath(),q.moveTo(u,x),q.lineTo(u,y),q.moveTo(u-l,r),q.lineTo(u,r),q.moveTo(u,m.y),q.lineTo(u+l,m.y),B.stroke.prepare(B.fill),q.stroke()):(B.depth=l/100,B.z=b.z+.5*b.depth-.5*B.depth,r={x:u-l,y:t,width:h.width,height:A},"cylinder"===
this.pointer.style?B.cylinder(r,1,!0):B.cube(r),B.draw(q,null,r),this.hover.enabled&&this.over==g&&this.hover.rectangle(u-l,t,h.width,A));"openclose"!=this.style&&(x<t||y>t+A)&&(q.z=b.z+.5*b.depth,q.beginPath(),q.moveTo(u,t),q.lineTo(u,x),q.moveTo(u,t+A),q.lineTo(u,y),this.hover.enabled&&this.over==g?this.hover.stroke.prepare(B.fill):B.stroke.prepare(B.fill),q.stroke())}};this.minYValue=function(){return 0<this.data.low.length?G(this.data.low):0};this.maxYValue=function(){return 0<this.data.high.length?
H(this.data.high):0};this.addRandom=function(a){var b=this.data;a||(a=10);b.values.length=a;b.close=b.values;b.open?b.open.length=a:b.open=Array(a);b.high?b.high.length=a:b.high=Array(a);b.low?b.low.length=a:b.low=Array(a);if(0<a)for(var c=25+100*Math.random(),d,e=0;e<a;e++)d=b.open[e]=c,c=b.close[e]=c+25*Math.random()-12.5,b.high[e]=Math.max(d,c)+15*Math.random(),b.low[e]=Math.min(d,c)-15*Math.random()}};Tee.Candle.prototype=new Tee.PointXY;Tee.Candle.prototype.clicked=function(a){var d=this.pointer.width,
b=this.mandatoryAxis,c=this.notmandatory,e=this.data,f=e.values.length,k=new v,g;k.width=d;for(g=0;g<f;g++)if(!this.isNull(g)){k.x=c.calc(g)-.5*d;var m=b.calc(e.open[g]);var h=b.calc(e.close[g]);k.y=m>h?h:m;k.height=Math.abs(m-h);if(k.contains(a))return g}return-1};Tee.Candle.prototype.vertMargins=function(){};Tee.Polar=function(a,d){var b;function c(a,b,c){if(a.visible){var d=a.axisPos;a.axisPos=b;a.startPos=c-h;a.endPos=c+h;b=a.z;a.z=1-.5*a.chart.walls.back.size-.1;a.drawAxis();a.axisPos=d;a.z=
b}}function e(a,c){var d=a.width,e=a.height;b=a.x+.5*d;m=a.y+.5*e;h=.5*Math.min(d,e);c.visible&&c.labels.visible&&(d=c.labels.format.textHeight("W"),h-=d)}Tee.CustomSeries.call(this,a,d);this.pointer.visible=!0;this.rotation=0;this.useOrigin=this.continuous=this._paintWalls=this._paintAxes=!1;this.origin=0;var f={x:0,y:0},k,g=this.format;var m=b=0;var h,l=Math.PI/180;g.stroke.fill="black";g.z=.5;this.calc=function(a,c){var d=this.data,e=d.values[a],f=this.mandatoryAxis;d=l*(this.rotation+(d.x?d.x[a]:
360*a/d.values.length));e=(f.inverted?f.maximum-e:e-f.minimum)*h/(f.maximum-f.minimum);c.x=b+Math.cos(d)*e;c.y=m+Math.sin(d)*e};this.beforeDraw=function(){e(this.chart.chartRect,this.notmandatory);var a=this.chart.walls;if(a.visible){var d=a.back;if(d.visible){var f=d.format;d=f.z;f.z=1;f.ellipse(b,m,2*h,2*h);f.z=d}}if(this.chart.axes.visible){f=this.notmandatory;var g=f.grid.format.stroke,k=this.mandatoryAxis,p,t=this.chart.ctx,A=f.rotation||0;if(f.visible&&f.labels.visible){var B={x:0,y:0,width:0,
height:0},v=f.labels.format,w=v.textHeight("W"),F=h+.8*w;var z=Math.max(10,90/(h/w|0));d=v.z;v.z=.6;for(p=0;360>p;){var C=l*(p+A);B.x=b+Math.cos(C)*F;B.y=m+Math.sin(C)*F-.5*w;v.drawText(B,""+p);p+=z}v.z=d}if(f.visible&&f.grid.visible){d=f.increment||10;t.z=1-.5*a.back.size-.1;t.beginPath();for(p=0;360>p;)C=l*(p+A),t.moveTo(b,m),t.lineTo(b+Math.cos(C)*h,m+Math.sin(C)*h),p+=d;g.prepare(g.fill,t);t.stroke()}if(k.visible&&k.grid.visible){p=k.roundMin();g=k.grid.format;C=2*h/(k.maximum-k.minimum);d=g.z;
g.z=1-.5*a.back.size-.1;for(t.z=g.z;p<k.maximum;)a=(p-k.minimum)*C,g.ellipse(b,m,a,a),p+=k.increm;g.z=d}c(k,b,m);c(f,m,b)}};this.draw=function(){e(this.chart.chartRect,this.notmandatory);var a=this.data.values.length,c;k=[];for(c=0;c<a;c++)this.isNull(c)||(this.calc(c,f),k.push({x:f.x,y:f.y}));a=k.length;if(0<a){if("bar"==this.style){var d=this.chart.ctx;d.beginPath();for(c=0;c<a;c++)d.moveTo(b,m),d.lineTo(k[c].x,k[c].y);this.format.stroke.prepare(this.format.fill,d);d.stroke()}else g.polygon(k);
this.pointer.visible&&this.drawPointers()}};this.minYValue=function(){var a=Tee.Series.prototype.minYValue.call(this);return this.useOrigin?Math.min(a,this.origin):a};this.maxYValue=function(){var a=this.stackMaxValue();return this.useOrigin?Math.max(a,this.origin):a}};Tee.Polar.prototype=new Tee.CustomSeries;"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Tee.PaletteSeries=function(a,d){Tee.Series.call(this,a,d);var b=this.palette;
b.colors=Tee.RainbowPalette();var c,e;this._range=this._min=0;this.prepareColors=function(){var a=b.colors;e=a.length;c=Array(e);for(var d=0;d<e;d++){var g=a[d].trim();7==g.length?c[d]={r:parseInt(g.substr(1,2),16),g:parseInt(g.substr(3,2),16),b:parseInt(g.substr(5,2),16),a:0}:"rgb("==g.substr(0,4)&&(g=g.slice(4,g.length-1).split(","),c[d]={r:g[0],g:g[1],b:g[2],a:g[3]||0})}};this.getColor=function(a){a=(a-this._min)/this._range*(e-1)|0;return c[b.inverted?e-1-a:a]};this.legendCount=function(){return this.palette.colors?
this.palette.colors.length:0}};Tee.PaletteSeries.prototype=new Tee.Series;Tee.PaletteSeries.prototype.legendColor=function(a){var d=this.palette,b=d.colors,c=d.inverted;this.chart.legend.inverted&&(c=!c);return d.grayScale?(a=255*a/b.length|0,c&&(a=255-a),"rgb("+a+","+a+","+a+")"):b?b[c?a:this.legendCount()-a-1]:this.format.fill};Tee.PaletteSeries.prototype.legendText=function(a){a=-1+this.legendCount()-a;return(this._min+a*this._range/(this.palette.colors.length-1)).toFixed(this.decimals)};Tee.DOMTip=
function(){var a,d=8,b,c=!1,e,f,k,g,m,h,l=0,n,q,v,r,x="undefined"!==typeof document&&document.all?!0:!1,y;return{show:function(l,p,B,u,w){w&&(k=w,w.findPoint||(d=0,c=!0));n||(e=document.createElement("style"),b=document.createElement("style"),g="",n=document.createElement("div"),a=document.createElement("div"),n.setAttribute("id","teetip1"),a.setAttribute("id","teetiparrow1"),n.className="teetip",a.className="teetiparrow",n.setAttribute("style",u),g=n.style.getPropertyValue("border-color"),m=n.style.getPropertyValue("background-color"),
f=n.style.getPropertyValue("border-width"),h=n.style.getPropertyValue("border-radius"),h=h.substring(0,h.length-2),0==f.length?f=0:(f=f.substring(0,f.length-2),f*=2),b.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+g+" transparent transparent transparent;bottom: -"+2*d+"px;left: 25px;}",e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+
m+" transparent transparent transparent;}",document.head.appendChild(b),document.head.appendChild(e),document.body.appendChild(n),n.appendChild(a),q=n.style,q.opacity=0,x&&(q.filter="alpha(opacity=0)"));r=B;q.display="block";q.position="absolute";n.innerHTML=a.outerHTML+l;q.width=p?p+"px":"auto";!p&&x&&(q.width=n.offsetWidth);300<n.offsetWidth&&(q.width="300px");y=n.offsetWidth;v=parseInt(n.offsetHeight,10)+3;n.timer&&clearInterval(n.timer);n.timer=setInterval(function(){Tee.DOMTip.fade(1)},10);document.onmousemove=
this.pos},pos:function(a){if(k){k.findPoint?(d=8,c=!1):(d=0,c=!0);if(r)var l=r.chart,t=l.chartRect,u=!l.axes.bottom.firstSeries.yMandatory;if(l)if(l.series.items[0]instanceof Tee.Pie||c||!r)l=document.documentElement,u=x?a.clientY+l.scrollTop:a.pageY,a=x?a.clientX+l.scrollLeft:a.pageX-y/2-10-d,b.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+g+" "+g+" transparent transparent;bottom: -"+2*d+"px;left: "+(n.getBoundingClientRect().width-
2*d-f/2)+"px;}",e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" "+m+" transparent transparent;}";else{var w=u?Math.round(l.axes.left.fromPos(a.layerY)):Math.round(l.axes.bottom.fromSizeCalcIndex(a.clientX-l.canvas.getBoundingClientRect().left-l.axes.bottom.startPos));var z=new p;if(a.target==l.canvas)for(var D=0;D<l.series.items.length;D++){var C=u?Math.abs(l.series.items[D].data.values[w]-
l.axes.bottom.fromPos(a.layerX)):Math.abs(l.series.items[D].data.values[w]-l.axes.left.fromPos(a.layerY));if(0==D){var E=C;l.series.items[D].calc(w,z)}else C<E&&(l.series.items[D].calc(w,z),E=C)}w=n.style.marginTop.substring(0,n.style.marginTop.length-2);C=n.style.marginLeft.substring(0,n.style.marginLeft.length-2);u=Math.round(z.y+window.scrollY+l.canvas.getBoundingClientRect().top-n.getBoundingClientRect().height-d-w+f/2);a=Math.round(z.x+window.scrollX+l.canvas.getBoundingClientRect().left-n.getBoundingClientRect().width/
2-C-f/2);a+y/2>t.width?(u=Math.round(z.y+window.scrollY+l.canvas.getBoundingClientRect().top-n.getBoundingClientRect().height-2*d-w+f/2),a=Math.round(z.x+window.scrollX+l.canvas.getBoundingClientRect().left-n.getBoundingClientRect().width-C),q.borderRadius=h+"px "+h+"px 0px "+h+"px",b.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+g+" "+g+" transparent transparent;bottom: -"+2*d+"px;left: "+(n.getBoundingClientRect().width-2*d-f/2)+"px;}",
e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" "+m+" transparent transparent;}"):a<t.x?(a=Math.round(z.x+window.scrollX+l.canvas.getBoundingClientRect().left-C),u=Math.round(z.y+window.scrollY+l.canvas.getBoundingClientRect().top-n.getBoundingClientRect().height-2*d-w+f/2),q.borderRadius=h+"px "+h+"px "+h+"px 0px",b.innerHTML=".teetiparrow{width:0;height:0;border: "+d+
"px solid;position: absolute;content: '';border-color: "+g+" transparent transparent "+g+";bottom: -"+2*d+"px;left: "+-(f/2)+"px;}",e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" transparent transparent "+m+";}"):a&&(q.borderRadius=h+"px "+h+"px "+h+"px "+h+"px",b.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+
g+" transparent transparent transparent;bottom: -"+2*d+"px;left: "+(n.getBoundingClientRect().width/2-d)+"px;}",e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" transparent transparent transparent;}")}else l=document.documentElement,u=x?a.clientY+l.scrollTop:a.pageY,a=x?a.clientX+l.scrollLeft:a.pageX-y/2-10-d}else d=0,c=!0,l=document.documentElement,u=x?a.clientY+l.scrollTop:
a.pageY,a=x?a.clientX+l.scrollLeft:a.pageX-y/2-10-d,b.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+g+" "+g+" transparent transparent;bottom: -"+2*d+"px;left: "+(n.getBoundingClientRect().width-2*d-f/2)+"px;}",e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" "+m+" transparent transparent;}";0>u-v&&(u=v);0>a&&
(a=0);if(r){l=r.offsetLeft;for(t=r;null!=t.offsetParent;)l+=t.offsetLeft,t=t.offsetParent;a>l+r.clientWidth-n.offsetWidth-25&&(a=l+r.clientWidth-n.offsetWidth-25)}c?(q.top=u-v+"px",q.left=a+3+"px"):(q.top=u+"px",q.left=a+"px")},fade:function(a){var b=l;if(97!==b&&1===a||0!==b&&-1===a){var c=10;10>97-b&&1==a?c=97-b:10>l&&-1==a&&(c=b);l=b+c*a;q.opacity=.01*l;x&&(q.filter="alpha(opacity="+l+")")}else clearInterval(n.timer),-1==a&&(q.display="none",document.onmousemove=null)},hide:function(){n&&(clearInterval(n.timer),
n.timer=setInterval(function(){Tee.DOMTip.fade(-1)},10))}}}()}).call(this);function doubleTap(p){var D,v=0;p.canvas.addEventListener("touchend",function(Q){var R=(new Date).getTime(),E=R-v;clearTimeout(D);600>E&&100<E?(p.zoom.reset(),p.draw()):D=setTimeout(function(){clearTimeout(D)},600);v=R;Q.preventDefault()})}
function twoFingersZoom(p,D){var v=p.canvas,Q=0,R=0,E=0,N=0,T=0,I=0,J=0,W=0,X=0,Y=0,U=0,Z=0,K=[],w,S,O,P,L,H,G,M;var V=!1;var z=setInterval(function(){if(1<K.length){var a=K[0];var d=K[1];V?(w=a.pageX,O=d.pageX,S=a.pageY,P=d.pageY,w>O&&(a=w,w=O,O=a),S>P&&(a=S,S=P,P=a),T=w-L,J=S-H,I=O-G,W=P-M,R=X-T,N=U-J,Q=Y-I,E=Z-W,X=T,U=J,Y=I,Z=W):(L=a.pageX,G=d.pageX,H=a.pageY,M=d.pageY,L>G&&(a=L,L=G,G=a),H>M&&(a=H,H=M,M=a),V=!0);if("both"==D.direction||"horizontal"==D.direction)a=p.axes.bottom.startPos+R,d=p.axes.bottom.endPos+
Q,p.axes.top.calcMinMax(a,d),p.axes.bottom.calcMinMax(a,d),p.draw();if("both"==D.direction||"vertical"==D.direction)a=p.axes.left.startPos+N,d=p.axes.left.endPos+E,p.axes.right.calcMinMax(a,d),p.axes.left.calcMinMax(a,d),p.draw()}},100);v.addEventListener("touchend",function(){V&&(V=!1);clearInterval(z)});v.addEventListener("touchmove",function(a){a.preventDefault();K=a.touches})};